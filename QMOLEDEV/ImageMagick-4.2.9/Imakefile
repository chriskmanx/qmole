#ifndef XCOMM
#define XCOMM #
#endif

XCOMM
XCOMM Imakefile for ImageMagick.
XCOMM
XCOMM Copyright 1998 E. I. du Pont de Nemours and Company
XCOMM
XCOMM Permission is hereby granted, free of charge, to any person obtaining a
XCOMM copy of this software and associated documentation files ("ImageMagick"),
XCOMM to deal in ImageMagick without restriction, including without limitation
XCOMM the rights to use, copy, modify, merge, publish, distribute, sublicense,
XCOMM and/or sell copies of ImageMagick, and to permit persons to whom the
XCOMM ImageMagick is furnished to do so, subject to the following conditions:
XCOMM
XCOMM The above copyright notice and this permission notice shall be included in
XCOMM all copies or substantial portions of ImageMagick.
XCOMM
XCOMM The software is provided "as is", without warranty of any kind, express or
XCOMM implied, including but not limited to the warranties of merchantability,
XCOMM fitness for a particular purpose and noninfringement.  In no event shall
XCOMM E. I. du Pont de Nemours and Company be liable for any claim, damages or
XCOMM other liability, whether in an action of contract, tort or otherwise,
XCOMM arising from, out of or in connection with ImageMagick or the use or other
XCOMM dealings in ImageMagick.
XCOMM
XCOMM Except as contained in this notice, the name of the E. I. du Pont de
XCOMM Nemours and Company shall not be used in advertising or otherwise to
XCOMM promote the sale, use or other dealings in ImageMagick without prior
XCOMM written authorization from the E. I. du Pont de Nemours and Company.
XCOMM
MANSUFFIX = 1

#include "Magick.tmpl"

#ifndef ForceSubdirs
#define ForceSubdirs(dirs)
#endif
#define IHaveSubdirs
#define PassCDebugFlags CCOPTIONS='$(CCOPTIONS)'

HEADERS = magick/magick.h magick/image.h magick/compress.h magick/utility.h \
  magick/monitor.h magick/error.h magick/delegates.h magick/X.h \
  magick/widget.h magick/PreRvIcccm.h

LINTSRCS = display.c magick/PreRvIcccm.c magick/animate.c magick/annotate.c \
  magick/avs.c magick/bmp.c magick/cmyk.c magick/colors.c magick/compress.c \
  magick/dcm.c magick/decorate.c magick/delegates.c magick/display.c \
  magick/dps.c magick/draw.c magick/effects.c magick/enhance.c \
  magick/ept.c magick/error.c magick/fax.c magick/fits.c magick/fpx.c \
  magick/gems.c magick/gif.c magick/gradation.c magick/gray.c \
  magick/hdf.c magick/histogram.c magick/html.c magick/icc.c \
  magick/icon.c magick/image.c magick/iptc.c magick/jbig.c \
  magick/jpeg.c magick/label.c magick/logo.c magick/mac.c \
  magick/magick.c magick/map.c magick/matte.c magick/memory.c \
  magick/miff.c magick/monitor.c magick/mono.c magick/montage.c \
  magick/mtv.c magick/nt.c magick/null.c magick/pcd.c magick/pcl.c \
  magick/pcx.c magick/pdf.c magick/pict.c magick/pix.c magick/plasma.c \
  magick/png.c magick/pnm.c magick/preview.c magick/ps.c magick/ps2.c \
  magick/psd.c magick/pwp.c magick/quantize.c magick/rgb.c magick/rla.c \
  magick/rle.c magick/segment.c magick/sfw.c magick/sgi.c \
  magick/shear.c magick/signature.c magick/stegano.c magick/sun.c \
  magick/tga.c magick/tiff.c magick/tile.c magick/tim.c \
  magick/transform.c magick/ttf.c magick/txt.c magick/uil.c \
  magick/utility.c magick/uyvy.c magick/vicar.c magick/vid.c \
  magick/viff.c magick/vms.c magick/widget.c magick/x.c magick/xbm.c \
  magick/xc.c magick/xpm.c magick/xwd.c magick/xwindows.c magick/yuv.c \
  magick/zoom.c

SRCS = display.c animate.c import.c montage.c convert.c mogrify.c identify.c \
  combine.c
OBJS = display.o animate.o import.o montage.o convert.o mogrify.o identify.o \
  combine.o

#ifdef __CYGWIN32__
PROGRAMS = magick display.exe animate.exe import.exe montage.exe convert.exe \
  mogrify.exe identify.exe combine.exe
#else
PROGRAMS = magick display animate import montage convert mogrify identify \
  combine xtp
#endif

SUBDIRS = magick xtp

AllTarget($(PROGRAMS))
DependTarget()

ForceSubdirs($(SUBDIRS))
#if (ProjectX < 5) && !defined(uxpArchitecture)
InstallSubdirs($(SUBDIRS))
#endif
DependSubdirs($(SUBDIRS))


NormalProgramTarget(display,display.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
NormalLintTarget($(LINTSRCS))
InstallProgram(display,$(LOCALDIR))
InstallMultipleMan(display.1,$(LOCALMAN1))
NormalProgramTarget(montage,montage.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(montage,$(LOCALDIR))
InstallMultipleMan(montage.1,$(LOCALMAN1))
NormalProgramTarget(import,import.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(import,$(LOCALDIR))
InstallMultipleMan(import.1,$(LOCALMAN1))
NormalProgramTarget(animate,animate.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(animate,$(LOCALDIR))
InstallMultipleMan(animate.1,$(LOCALMAN1))
NormalProgramTarget(convert,convert.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(convert,$(LOCALDIR))
InstallMultipleMan(convert.1,$(LOCALMAN1))
NormalProgramTarget(identify,identify.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(identify,$(LOCALDIR))
InstallMultipleMan(identify.1,$(LOCALMAN1))
NormalProgramTarget(mogrify,mogrify.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(mogrify,$(LOCALDIR))
InstallMultipleMan(mogrify.1,$(LOCALMAN1))
NormalProgramTarget(combine,combine.o,$(DEPLIBS),$(LOCAL_LIBRARIES),$(XLIB) -lm)
InstallProgram(combine,$(LOCALDIR))
InstallMultipleMan(combine.1,$(LOCALMAN1))
InstallMultipleMan(ImageMagick.1,$(LOCALMAN1))
InstallMultipleMan(miff.4,$(LOCALMAN4))
InstallMultipleMan(quantize.5,$(LOCALMAN5))
InstallNamedNonExec(delegates/delegates.mgk,delegates.mgk,$(PREFIX)/share/ImageMagick)
InstallNamedNonExec(Copyright.txt,Copyright.txt,$(PREFIX)/share/ImageMagick)
InstallNamedNonExec(QuickStart.txt,QuickStart.txt,$(PREFIX)/share/ImageMagick)

strip:
	strip display animate montage convert combine mogrify import identify
	strip magick/libMagick*
