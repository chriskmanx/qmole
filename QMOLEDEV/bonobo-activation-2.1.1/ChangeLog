2002-11-28  Michael Meeks  <michael@ximian.com>

	* Version 2.1.1

2002-11-21  Dan Mills  <thunder@ximian.com>

	* configure.in: replace gtk-doc version check with an all-sh
	version that works better.

2002-11-16  Malcolm Tredinnick <malcolm@commsecure.com.au>

	Janitorial work to clean up the documentation building.

	* api-docs/Makefile.am: Exclude some private files from the docs
	scan.

	* api-docs/bonobo-activation-sections.txt: Move all the
	functions from *-unused.txt to here and group them very
	roughly into sections.

	* bonobo-activation/bonobo-activation-init.c,
	* bonobo-activation/bonobo-activation-register.c,
	* bonobo-activation/bonobo-activation-server-info.c:
	Rename some parameters in the doc comments to match the function
	declaration. Remove blank lines from program listing comments,
	since they confused gtk-doc.

	* api-docs/tmpl/base.sgml,
	* api-docs/tmpl/types.sgml,
	* api-docs/tmpl/debugging.sgml,
	* api-docs/tmpl/initialization.sgml,
	* api-docs/tmpl/query.sgml,
	* api-docs/tmpl/registration.sgml,
	* api-docs/tmpl/utilities.sgml: Updated template files.

	* api-docs/bonobo-activation-decl.txt: Removed.

	* api-docs/.cvsignore, api-docs/tmpl/.cvsignore: Sssh.

2002-11-09  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS

2002-11-04  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-activate.c
	(bonobo_activation_query): only insert the query
	if we didn't get an exception, return NULL on
	exception.

2002-10-29  Michael Meeks  <michael@ximian.com>

	* bonobo-activation-2.0.pc.in: remove bogus
	  libxml2 requirement; that's in the server.

2002-10-28  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	 (remove_active_server): don't assert fail on
	 removing a non-registered server.

2002-10-22  Julio Merino  <jmmv@hispabsd.org>

	* bonobo-activation/bonobo-activation-activate.c:
	  include locale.h

2002-10-18  Michael Meeks  <michael@ximian.com>

	* Version 2.1.0

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* bonobo-activation/bonobo-activation-fork-server.c: use
	g_warnings for debugging so we see the pid.

	* bonobo-activation/bonobo-activation-private.h,
	  bonobo-activation/bonobo-activation-register.c:
	(Bonobo_ActivationEnvironment_match): rename this from
	_equal and just require that the intersection of the
	sets of variables match.

	* server/activation-context-corba.c: (ac_do_activation),
	(impl_Bonobo_ActivationContext_activateMatching),
	(impl_Bonobo_ActivationContext_activateFromAid): pass
	the activation environment around in a few more places.

	* server/object-directory-corba.c:
	(od_get_active_server): update.

	* test/empty-server.c: (main): fix silly registering the
	same iid twice.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* bonobo-activation/bonobo-activation-register.[ch]:
	(bonobo_activation_active_server_unregister): don't
	#define this as unregister_active_server. That's no
	good for ABI compat. duh.

2002-10-18 Mark McLoughlin  <mark@skynet.ie>

	* bonobo-activation/bonobo-activation-base-service.c:
	(local_re_check_fn): update.

	* bonobo-activation/bonobo-activation-init.c:
	(bonobo_activation_orb_init): don't set display
	context value.

	* idl/Bonobo_ActivationContext.idl: remove display
	from context.

	* server/activation-server-main.c: (main): don't
	unset SESSION_MANAGER.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* bonobo-activation/bonobo-activation-activate.c:
	(activation_async_callback): munge the GeneralError
	description into the error reason for extra info.
	(bonobo_activation_init_activation_env): fix silly.

	* bonobo-activation/bonobo-activation-fork-server.[ch]:
	(scan_list): compare environments, not just display.
	(setenv_activation_environment): set all the env
	valriables in the child.
	(bonobo_activation_server_by_forking): pass environment,
	not just display.

	* bonobo-activation/bonobo-activation-register.c:
	(Bonobo_ActivationEnvironment_equal): impl.
	(Bonobo_ActivationEnvValue_copy): fix silly.
	(registration_result_to_string): impl for debugging.
	(bonobo_activation_register_active_server): use it.

	* server/object-directory-activate.c:
	(od_server_activate_factory), (od_server_activate_exe),
	(od_server_activate): pass around the activation environment.

	* server/object-directory-corba.c: major overhaul of object
	tracking so we can match on the environment without munging
	it into the iid and also to be able to look up an object reference.

	* server/server.h: update.

	* test/bonobo-activation-test.c: make it a little easier
	to follow what's going on by giving decent PASSED/FAILED
	messages and printing which async activation returned.

	* test/empty-server.c: (main): register both empties
	with the same environment.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* bonobo-activation/bonobo-activation-activate.[ch]:
	(bonobo_activation_activate),
	(bonobo_activation_activate_async): use the global
	activation environment.
	(bonobo_activation_init_activation_env): implement
	initialising the default activation environment set.
	(bonobo_activation_set_activation_env_value): allow
	setting extra values.

	* bonobo-activation/bonobo-activation-init.c:
	(bonobo_activation_orb_init): init the activation env.

	* bonobo-activation/bonobo-activation-private.h,
	  bonobo-activation/bonobo-activation-register.c:
	(Bonobo_ActivationEnvValue_copy),
	(Bonobo_ActivationEnvValue_set): implement.
	(copy_env_list_to_sequence):
	(bonobo_activation_registration_env_set_global): update.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	Add some rather ugly API to allow a list of environmental
	variables to be specified when registering the server.
	This replaces the old make_registration_id() hack. New
	registration methods are added and the old ones are
	deprecated.

	* bonobo-activation/bonobo-activation-register.[ch]:
	(bonobo_activation_register_active_server): allow
	a enviroment list to be used when registering 
	server.
	(bonobo_activation_active_server_register): compatibility
	wrapper around register_active_server(). Retains support
	for registration ids generated with make_registration_id().
	Deprecated in favour of register_active_server().
	(bonobo_activation_unregister_active_server): rename to
	match new registration function.
	(bonobo_activation_registration_env_set): method for easy
	construction of an environment list.
	(bonobo_activation_registration_env_free): free the list.
	(bonobo_activation_registration_env_set_global): allow
	setting a global list which will be used for registration
	if another one isn't specified. Basically just a hack to
	so we don't have to break ABI compat in bonobo.

	* idl/Bonobo_Activation_types.idl: add an "unset" flag to
	ActivationEnvValue so we can tell the difference between
	an empty variable and an unset one.

	* idl/Bonobo_ObjectDirectory.idl: remove the environment
	list from unregister().

	* server/object-directory-corba.c:
	(impl_Bonobo_ObjectDirectory_unregister): update.

	* test/empty-server.c: (main): add some simple testing
	of the above functionality.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_ActivationContext.idl: kill activateFromIid.
 
	* bonobo-activation/bonobo-activation-activate.c:
	(bonobo_activation_activate_from_id),
	(bonobo_activation_activate_from_id_async): if the id is an iid
	then just construct a query to match against that iid and
	call bonobo_activation_activate.

	* server/activation-context-corba.c: kill activateFromIid.

	* server/object-directory-activate.c:
	(od_server_activate_factory): construct a query matching against
	the factories IID and call activateMatching.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_ObjectDirectory.idl: add activation environment
	parameters to activate, register_new and unregister.

	* bonobo-activation/bonobo-activation-register.c:
	(bonobo_activation_active_server_register),
	(bonobo_activation_active_server_unregister): pass dummy
	environments.

	* server/activation-context-corba.c: (ac_do_activation):
	* server/activation-server-main.c: (main): ditto.

	* server/object-directory-corba.c:
	(impl_Bonobo_ObjectDirectory__get_servers),
	(impl_Bonobo_ObjectDirectory_get_active_servers),
	(od_get_active_server), (impl_Bonobo_ObjectDirectory_activate),
	(impl_Bonobo_ObjectDirectory_register_new),
	(impl_Bonobo_ObjectDirectory_unregister),
	(impl_Bonobo_ObjectDirectory__get_hostID),
	(impl_Bonobo_ObjectDirectory__get_username): update for IDL
	changes, don't discard any hope of type safety when populating
	the epv and fixup skel signatures to match what is expected.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_ActivationContext.idl: put back the "display"
	context for all activate methods.

	* idl/Bonobo_Activation_types.idl: put back "domain" to
	Bonobo_ServerInfo. This struct is very much part of our ABI.

	* bonobo-activation/bonobo-activation-server-info.c:
	(Bonobo_ServerInfo_copy): copy the domain.

	* server/object-directory-load.c:
	(parse_oaf_server_attrs): set a dummy domain. CORBA doesn't
	allow NULL strings.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	* idl/Bonobo_ActivationContext.idl: rename
	Bonobo::ActivationContext::activate() to activateMatching(),
	activate_from_id to activateFromAid and add activateFromIid.
	Rename other methods to use studlyCaps as is convetional.
	Remove "display" and "domain" context properties from the
	various methods.
	
	* idl/Bonobo_Activation_types.idl: add ActivationEnvValue and
	ActivationEnvironment. Remove domain element from ServerInfo.

	* idl/Bonobo_ObjectDirectory.idl: Remove "display" and "domain"
	context properties from the various methods.

	* bonobo-activation/bonobo-activation-activate.c: update for idl
	re-structuring and re-naming.

	* bonobo-activation/bonobo-activation-base-service.[ch]:
	  bonobo-activation/bonobo-activation-id.[ch]:
	  bonobo-activation/bonobo-activation-init.c:
	  bonobo-activation/bonobo-activation-private.h:
	  bonobo-activation/bonobo-activation-register.c:
	  bonobo-activation/bonobo-activation-server-info.c:
	Remove all references to "domain".

	* server/activation-context-corba.c:
	(child_od_info_new), (child_od_info_free): remove references to
	"domain".
	(impl_Bonobo_ActivationContext_addDirectory):
	rename from add_directory().
	(impl_Bonobo_ActivationContext_removeDirectory):
	rename from remove_directory().
	(ac_do_activation): remove references to "domain".
	(impl_Bonobo_ActivationContext_activateMatching):
	rename from activate().
	(ac_aid_to_query_string): don't convert from and IID to AID
	here anymore.
	(ac_context_to_string_array): kill "domain".
	(impl_Bonobo_ActivationContext_activateFromAid):
	rename from activate_from_id().
	(impl_Bonobo_ActivationContext_activateFromIid): convert
	the iid to an iid and call activateFromAid().

	* server/activation-context-query.c:
	* server/activation-server-main.c: more "domain" killing.

	* server/client.c: (main): use activateMatching().

	* server/object-directory-activate.c:
	(od_server_activate_factory): use activateFromIid().

	* server/object-directory-corba.c:
	* server/object-directory-load.c:
	* server/server.h:
	* server/test-performance.c:
	* test/bonobo-activation-test.c: yet more "domain" killing.

2002-10-18  Mark McLoughlin  <mark@skynet.ie>

	Re-implements the async activation methods using
	ORBit2's async method invocation interface.

	* bonobo-activation/Makefile.am:
	remove bonobo-activation-async.c, bonobo-activation-async-callback.h,
	and bonobo-activation-async-callback.c from the build.

	* bonobo-activation/bonobo-activation-async-callback.c:
	* bonobo-activation/bonobo-activation-async-callback.h:
	* bonobo-activation/bonobo-activation-async.c: remove.

	* bonobo-activation/bonobo-activation-activate.c:
	(bonobo_activation_set_test_components_enabled),
	(bonobo_activation_get_test_components_enabled): make these empty
	stubs for ABI compat only.
	(copy_strv_to_sequence): rename from 
	bonobo_activation_copy_string_array_to_Bonobo_StringList and make
	static.
	(bonobo_activation_query): clean up.
	(handle_activation_result): split the result handling out for re-use.
	(bonobo_activation_activate): clean up and use handle_activation_result().
	(bonobo_activation_activate_from_id): ditto and don't explicitly start
	an ObjectDirectory. That should be handled by the ActivationContext when
	we actually start using multiple ObjectDirectories.
	(setup_methods): initialise the ORBit_IMethods here.
	(activation_async_callback): async reply callback.
	(bonobo_activation_activate_async),
	(bonobo_activation_activate_from_id_async): re-implement the sync
	activation methods using ORBit2 async interface.

	* idl/Bonobo_ActivationContext.idl: remove the ActivationCallback
	interface, ActivationContext::activate_async() and
	ActivationContext::activate_from_id_async().

	* server/activation-context-corba.c: remove all async code.

2002-10-15  Michael Meeks  <michael@ximian.com>

	* server/object-directory-activate.c
	(od_server_activate): if we have a lurking
	exception - quit immediately, don't go on & leak.

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_activate):
	free the retval if we have an exception.

2002-10-15  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(update_registry): stab in the dark at #95248

2002-10-15  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(update_registry): fix timeout scan of .server
	directory.

2002-10-15  Benoit Plessis <benoit.plessis@tuxfamily.org>

	* server/activation-context-query-parser.y
	(expr_variable): add missing ';' for Bison 1.50

2002-09-19  Padraig O'Briain <padraig.obriain@sun.com>

	* bonobo-activation/bonobo-activation-client.c
	(bonobo_activation_release_corba_client): Reset client to 
	CORBA_OBJECT_NIL.

	* server/Makefile.am: Add server files, Bonobo_CosNamingContext.server
	and Bonobo_CosNamingContext.server.in  to CLEANFILES.

2002-08-27  Thomas Vander Stichele <thomas@apestaart.org>

	* configure.in: make not finding flex fatal 

2002-08-22  Stanislav Brabec  <utx@penguin.cz>

	* configure.in: Added cs to ALL_LINGUAS.

2002-08-16  Alex Graveley  <alex@ximian.com>

	* server/activation-server-main.c (main): Remove sleep(10000),
	causing severe desktop unhappiness :-).

2002-08-16  Michael Meeks  <michael@ximian.com>

	* server/object-directory-load.c
	(parse_oaf_attribute): check the locale earlier.
	(is_locale_interesting): use a hash for lookups
	(register_interest_in_locales, add_initial_locales): upd.

2002-08-09  Michael Meeks  <michael@ximian.com>

	* server/object-directory-load.c

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_addClient): upd.
	split a chunk of stuff out to:

	* server/object-directory-load.c
	(is_locale_interesting, add_initial_locales): move
	these here. 
	(register_interest_in_locales): split, impl.
	
	* server/Makefile.am: add test-performance.

2002-08-08  Michael Meeks  <michael@ximian.com>

	* server/activation-server-main.c (main): add
	--register-server option.

	* server/activation-context-corba.c
	(ac_do_activation): add conditional debug.

	* server/object-directory-corba.c
	(bonobo_object_directory_reload): calm debug.

2002-07-28  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sq" to ALL_LINGUAS.

2002-07-24  Michael Meeks  <michael@ximian.com>

	* Version 1.0.3

2002-07-23  Brian Cameron  <Brian.Cameron@Sun.com>

	* utils/Makefile.am: Install bonobo-activation-sysconf
	to sbin

	* bonobo-activation.spec.in: Add sbin.

2002-07-16  Michael Meeks  <michael@ximian.com>

	* server/Makefile.am: install b-a-s in libexecdir

	* server/Bonobo_CosNaming_NamingContext.server.in.in:
	rename to this, add libexec bits.

	* bonobo-activation/bonobo-activation-base-service.c:
	add SERVER_LIBEXECDIR to b-a-s cmdline.

	* bonobo-activation/Makefile.am: export it.

2002-06-29  Jan Van Buggenhout <Chipzz@ULYSSIS.Org>

	* .cvsignore: Fix some files that really shouldn't
	be in there.

2002-06-21  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(check_quit): only add the timeout if there are
	no registered clients (too).
	(quit_server_timeout): more safety.

	* server/activation-context-corba.c
	(activation_clients_check): rename to 
	(activation_clients_is_empty_scan): this & upd.
	(active_client_cnx_broken): impl.
	(impl_Bonobo_ActivationContext_addClient): connect
	to new connections.

	* server/object-directory-corba.c
	(check_quit): publicise & scrub argument.
	(active_server_cnx_broken, add_active_server),
	(remove_active_server): upd.

2002-06-21  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(add_active_server): only check_quit for remote
	objects, so we don't leave a 1 second quit timeout
	having just started ( for queries or somesuch ).

	* test/bonobo-activation-test.c (main): see if the
	server quitting code is mis-behaving, move race_empty
	blow this.

	* server/object-directory-corba.c
	(check_quit): publicise SERVER_IDLE_QUIT_TIMEOUT

2002-06-19  Michael Meeks  <michael@ximian.com>

	* configure.in: bump to 1.0.2 to make some sense.

2002-06-18  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(quit_server_timeout): don't quit if we screwed up
	the residual server count.
	(check_quit): always push out the timeout, never
	loose track of an existing timeout.

2002-06-17  Michael Meeks  <michael@ximian.com>

	* configure.in: require linc >= 0.5.1

	* bonobo-activation/bonobo-activation-base-service.c
	(filename_fixup): kill.
	(get_ior_fname, get_lock_name, get_tmpdir): impl.
	(rloc_file_register, rloc_file_check),
	(rloc_file_lock, rloc_file_unregister): simplify.
	(wait_for_lock): split out, add warning in horribly
	'sleep' fallback case.

2002-06-17  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-init.c
	(bonobo_activation_object_directory_get): re-write from
	ac_check, don't use the base_service mess.

	* bonobo-activation/bonobo-activation-base-service.c
	(activatable_servers): remove ObjectDirectory activator
	(bonobo_activation_rloc_file_register): rename to
	(bonobo_activation_base_service_init): impl.
	(ac_check): move innards into -init.c & kill.

	* bonobo-activation/bonobo-activation-init.c: kill
	bonobo_activation_od_ior bits.
	(bonobo_activation_init): upd.
	(bonobo_activation_postinit): move most of it into
	base_service_init.
	(cmdline_check): kill.
	(local_re_check_fn, local_activator): move into base-service.c

2002-06-17  Michael Meeks  <michael@ximian.com>

	* server/activation-server-main.c (main): make
	it clear that bonobo-activation-server cannot be run
	by itself.

2002-06-14  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-fork-server.c
	(handle_exepipe): use a 'done' flag, not a separate
	mainloop.
	(bonobo_activation_server_by_forking): use the linc
	mainloop, so we can continue to process incoming
	CORBA activation requests, but so that we don't do
	silly things with 

2002-06-11  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/Makefile.am: upd localedir.

	* server/Makefile.am: ditto, use $(DATADIRNAME)
	instead of $(datadir) which are different - why
	does that sound so broken. #83618

2002-06-10  Naba Kumar <kh_naba@users.sourceforge.net>

	* configure.in: Added hi in ALL_LINGUAS
	
2002-06-01  Michael Meeks  <michael@ximian.com>

	* Version 1.0.0

2002-06-01  Michael Meeks  <michael@ximian.com>

	* require ORBit 2.4.0

	* bonobo-activation/bonobo-activation-shlib.h:
	(BonoboActivationPluginObject, BonoboActivationPlugin):
	add dummy space for expansion.

	* bonobo-activation/bonobo-activation-id.h
	(struct): add 'deprecated' guards, unused.

	* server/activation-context-corba.c
	(child_od_info_free): protect vs. freeing a NULL list.

2002-05-27  Jacob Berkman  <jacob@ximian.com>

	* server/Makefile.am (EXTRA_DIST): add $(man_MANS)

2002-05-27  Michael Meeks  <michael@ximian.com>

	* configure.in: remove message of doom, add
	check for yacc, print vars nicely.

2002-05-27  Michael Meeks  <michael@ximian.com>

	* server/bonobo-activation-server.1: impl.

2002-05-25  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Catalan (ca) to ALL_LINGUAS

2002-05-20  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-init.c
	(bonobo_activation_init): dup the iid/od ior for
	python.

2002-05-20  Michael Meeks  <michael@ximian.com>

	* Version 0.9.9

2002-05-15  Sean Atkinson  <sean@cantab.net>

	* bonobo-activation/bonobo-activation-async-callback.c
	(impl_Bonobo_ActivationCallback_report_activation_succeeded):
	Report "IDL:Bonobo/GeneralError:1.0" exceptions.

2002-05-14  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-test.c
	(test_bonobo_activation_server): update nameserver
	crash detection handling, so it works again.
	(main): release the name_service ref.

	* server/activation-server-main.c (main): kill
	chdir '/', this leaves us where we were started,
	so we can get nice core dumps ( and for components
	too ).

2002-05-10  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(add_active_server): handle the naming context
	being in-proc.
	(impl_Bonobo_ObjectDirectory_lock),
	(impl_Bonobo_ObjectDirectory_unlock): kill, unused.
	(impl_Bonobo_ObjectDirectory_unregister): remove
	unused 'unregister type', fire an exception if we
	unregister something that's not registered.
	(impl_Bonobo_ObjectDirectory__get_hostID): upd.

	* bonobo-activation/bonobo-activation-register.c
	(bonobo_activation_active_server_unregister): remove
	default unreg type argument.

	* idl/Bonobo_Activation_types.idl:
	add NotRegistered exception

2002-05-09  Michael Meeks  <michael@ximian.com>

	* server/activation-server-main.c
	(nameserver_destroy): impl.
	(main): use it.

	* server/activation-context-corba.c
	(Bonobo_ActivationContext_create): rename to
	(activation_context_init): this
	(activation_context_get): impl.
	(activation_context_shutdown): impl.
	(notify_clients_cache_reset): rename to
	(activation_clients_cache_notify): this.
	(activation_clients_check): impl.
	(free_child_dirs): impl.
	(child_od_info_free): upd.

	* server/object-directory-corba.c
	(bonobo_object_directory_shutdown): impl.
	(update_registry): upd.

	* server/object-directory-load.c
	(Bonobo_ServerInfo_load): another non CORBA method renamed to
	(bonobo_server_info_load): this for clarity.

	* server/Bonobo_CosNaming_NamingContext.server.in:
	update to match the name we register it against.

	* test/Makefile.am: fix from Jacob.

	* bonobo-activation/bonobo-activation-activate.c
	(bonobo_activation_name_service_get): update to the
	new name.

	* server/activation-server-main.c (main): split
	horribly messily implemented path stuff out into
	remove confusing always true name_service conditional
	assert (server_ac) we don't want pure ObjectDirectory
	servers anymore.
	(build_src_dir): here.
	(redirect_output): split out from main.

	* server/object-directory-corba.c
	(reload_object_directory): rename to
	(bonobo_object_directory_reload): this.
	(bonobo_object_directory_get): impl.
	(bonobo_object_directory_init): rename misleading
	_create method [ looking like a CORBA method ] to this.

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_addClient): upd.

2002-05-08  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(update_registry): set time_did_stat when we load too,
	verify that we are in fact re-parsing stuff when server
	files are added and removed. We are - however not when
	files are updated, you need to create / delete a file or
	touch the server directory to update the st_mtime.

	* bonobo-activation/bonobo-activation-register.c
	(bonobo_activation_active_server_register): fix typo.

2002-05-07  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	re-order to clarify various bits.
	(Bonobo_ObjectDirectory_create): create a more intelligent hash
	(impl_Bonobo_ObjectDirectory_unregister): prune frees.
	(impl_Bonobo_ObjectDirectory_register_new): use hash_replace.
	(add_active_server, remove_active_server): split out.
	(prune_dead_servers, active_server_cnx_broken): impl.

2002-04-29  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-04-29  Anders Carlsson  <andersca@gnu.org>

	* Version 0.9.8

2002-04-17  Michael Meeks  <michael@ximian.com>

	* server/activation-server-main.c (main): port.

	* server/object-directory-load.c
	(Bonobo_ServerInfo_load): kill freeze / thaws.

	* server/object-directory-corba.c
	(impl_Bonobo_ObjectDirectory_lock): port.

	* server/activation-context-corba.c
	(child_od_update_list),
	(child_od_update_active): remove hash freeze / thaws.

	* bonobo-activation/bonobo-activation-fork-server.c
	(scan_list, bonobo_activation_server_by_forking): port
	mainloop bits.

	* bonobo-activation/bonobo-activation-base-service.c
	(ri_compare): fix const casts.

	* bonobo-activation/bonobo-activation-client.c
	(get_lang_list): kill warnings.

	* add -DG_DISABLE_DEPRECATED everywhere.

2002-04-17  Anders Carlsson  <andersca@gnu.org>

	* bonobo-activation/bonobo-activation-client.c 
	(get_lang_list): Plug leak.

2002-04-16  Michael Meeks  <michael@ximian.com>

	* Version 0.9.7

2002-04-16  Michael Meeks  <michael@ximian.com>

	* server/object-directory-load.c
	(add_entry): split from
	(od_EndElement): here & eliminate duplicates.

	* server/activation-context-corba.c
	(add_initial_locales): dup the lang we add,
	add LOCALE_DEBUG conditional debug.

	* server/object-directory-load.c
	(od_load_directory): drop support for .oaf / .oafinfo
	files .server is the standard.

2002-04-16  Anders Carlsson  <andersca@gnu.org>

	* bonobo-activation/bonobo-activation-client.c: (get_lang_list),
	(bonobo_activation_register_client):
	* server/activation-context-corba.c: (add_initial_locales),
	(is_locale_interesting), (impl_Bonobo_ActivationContext_addClient):
	* server/activation-server-main.c: (main):
	* server/object-directory-corba.c: (update_registry),
	(impl_Bonobo_ObjectDirectory__get_servers),
	(impl_Bonobo_ObjectDirectory_activate),
	(Bonobo_ObjectDirectory_create), (reload_object_directory):
	* server/object-directory-load.c: (parse_info_new),
	(parse_info_free), (parse_oaf_server_attrs), (parse_oaf_attribute),
	(parse_stringv_item), (od_StartElement), (od_EndElement),
	(od_GetEntity), (od_Warning), (od_Error), (od_FatalError),
	(od_load_file), (Bonobo_ServerInfo_load):
	* server/server.h:
	Use a SAX parser to parse .server files, and don't pass all locales
	when querying for servers; instead just pass the ones we're interested in.
	
2001-09-30  Jody Goldberg <jgoldberg@home.com>

	* utils/bonobo-slay.in : Do not kill processes that just have a server
	  name somewhere on the command line.  eg vi server/main.c

2002-04-16  David Kaelbling <drk@sgi.com>

	* server/activation-context-query.c
	(qexp_evaluate_function): intialize return values.

2002-03-30  Jody Goldberg <jody@gnome.org>

	* bonobo-activation/bonobo-activation-activate.c
	(query_cache_insert) : Use g_hash_table_replace instead of _insert so
	  that if there is a collision both the old key & value get removed
	  rather than producing a frankenstein monster with the old key
	  pointing to the freshly deleted key.

2002-03-19  Mark McLoughlin  <mark@skynet.ie>

	* configure.in: remove some particularily nasty
	compiler flags that cause the build to break on platforms
	other than Linux.

2002-03-18  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-base-service.h:
	add deprecated defines.

2002-03-18  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-base-service.c: 
	define PATH_MAX as 1024 (if not defined) for the odd
	OS fringe - thanks Morten.

2002-03-18  Michael Meeks  <michael@ximian.com>

	* Version 0.9.6

2002-03-13  Gustavo Giráldez  <gustavo.giraldez@gmx.net>

	* test/broken.server: add some more bits.

2002-03-12  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-init.c
	(cmdline_check): bomb out if people try to scupper us.

	* test/empty-server.c (main): register this
	server under two IIDs so we can test some more
	racing action ...

	* server/object-directory-corba.c
	(Bonobo_ObjectDirectory_create): setup main_dir
	(bonobo_object_directory_re_check_fn): impl.

	* bonobo-activation/bonobo-activation-init.c
	(local_activator): upd to pass re_check_fn to
	server_by_forking, pass the service name as the
	'IOR' to ensure we uniquify on that.
	(local_re_check_fn): impl.

	* bonobo-activation/bonobo-activation-base-service.c
	(bonobo_activation_service_get_internal): rename to
	(bonobo_activation_internal_service_get_extended): here &
	kill old wasted stack frame.
	(bonobo_activation_service_get): upd.

2002-03-11  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-fork-server.c
	(handle_exepipe): handle G_IO_PRI as well as G_IO_IN
	(bonobo_activation_server_by_forking): ditto, keep a
	queue of running activations, split out
	(exe_activate_info_to_retval): this
	(EXEActivateInfo): beef up to include the iid & 
	(scan_list): check running activations to see if
	we're already covered.
	
	* server/object-directory-corba.c
	re-order to kill bogus forward prototypes.
	(impl_Bonobo_ObjectDirectory_register_new): 
	don't get object ref counting wrong in various
	cases.
	(impl_Bonobo_ObjectDirectory_activate): beef up
	the double activation check, we can get NIL back
	from od_server_activate.

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_activate_from_id):
	fix leak.

	* server/object-directory-activate.c
	(od_server_activate_factory),
	(od_server_activate_exe): make static, they're
	internal anyway.

2002-03-11  Michael Meeks  <michael@ximian.com>

	* utils/bonobo-slay.in: update to Gnome 2.
	allow a regexp to be passed in to kill a process
	subset by process name, eg. bonobo-slay 'nautilus*'

2002-03-06  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-register.c
	(bonobo_activation_make_registration_id): re-enable
	per display registration id construction.

2002-03-04  Michael Meeks  <michael@ximian.com>

	* Version 0.9.5

	* configure.in: switch versioning round so we don't
	constantly break the .so number for no good reason,
	prune all the complex mess for .so versioning.

2002-02-27  Michael Meeks  <michael@ximian.com>

	* server/object-directory-corba.c
	(update_registry): upd. time_did_stat handling

	* bonobo-activation/bonobo-activation-base-service.c
	(rloc_file_lock): use the bonobo-activation lock, not
	the oaf one.
	(rloc_file_unlock): prune cruft.

	* server/object-directory-corba.c
	(update_registry): protect from re-enterency causing
	unneccessary re-loads.

	* bonobo-activation/bonobo-activation-private.h
	(BONOBO_ACTIVATION_STR_NULL_OR_MATCH): kill cruft.

2002-02-02  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-init.c
	(bonobo_activation_orb_init): don't pollute the
	default context.

	* server/object-directory-corba.c
	(update_registry): spew resets as neccessary.

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_addClient): impl.
	(notify_clients_cache_reset): impl.

2002-01-24  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-base-service.c
	(bonobo_activation_base_service_debug_shutdown): release
	the corba client.

2002-01-21  Michael Meeks  <michael@ximian.com>

	* server/activation-context-corba.c
	(impl_Bonobo_ActivationContext_addClient): stub.

2001-12-17  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-activate.c
	(query_cache_equal,query_cache_hash, query_cache_lookup),
	(query_cache_insert, query_cache_entry_free),
	(query_cache_clean): impl. a query cache to prune redundant
	duplicate queries.

	* bonobo-activation/bonobo-activation-server-info.c
	(Bonobo_ServerInfoList_duplicate): impl.

2002-02-25  Darin Adler  <darin@bentspoon.com>

	* configure.in: Better popt check (had done a lot time ago, but
	forgot to commit).

2002-02-17  Michael Meeks  <michael@ximian.com>

	* TODO: fill out with various issues.

	* bonobo-activation/*.[ch]: remove more oaf bits.
	
	* bonobo-activation/bonobo-activation-private.h:
	remove bonobo_activation_alloca clutter.

	* bonobo-activation/bonobo-activation-id.c
	(bonobo_activation_id_parse): upd to g_alloca.

	* server/object-directory-activate.c
	(od_server_activate_exe): upd.

	* bonobo-activation/bonobo-activation-fork-server.c
	(bonobo_activation_internal_server_by_forking_extended): rename to
	(bonobo_activation_server_by_forking): this & fold in.

	* bonobo-activation/bonobo-activation-init.c
	(local_activator): FALSE for set_process_group.

	* HACKING: upd, add build sherrif bits.

2002-02-02  Michael Meeks  <michael@ximian.com>

	* server/activation-server-main.c (main): use
	GNOME2_PATH not GNOME_PATH

	* server/object-directory-corba.c
	(split_path_unique): uniquify the paths, so we
	don't waste time and space parsing the same thing
	multiple times.

2002-01-31  Michael Meeks  <michael@ximian.com>

	* test/broken.server: add a test attribute to break the
	old server.

	* server/object-directory-load.c (od_entry_read_props):
	accelerate rough calc. of valid entry count. ensure that
	if an invalid entry is encountered we don't leave blank
	entries in the props array to segv us later.

2001-12-18  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-test.c (main): add a more complex
	nautilus style query.

2002-02-18  Gediminas Paulauskas <menesis@delfi.lt>

	* configure.in: remove non-existing GNOME_PLATFORM_GNOME_2

2002-02-16  Michael Meeks  <michael@ximian.com>

	* Version 0.9.4

2002-02-13  Kjartan Maraas  <kmaraas@gnome.org>

	* bonobo-activation/*.c: #include <config.h> where we have
	translated strings at least.
	* bonobo-activation/bonobo-activation-i18n.h: Remove #include <config.h>
	from here to make the .c files include it instead.
	* server/*.c: Same here.
	
2002-02-02  jacob berkman  <jacob@ximian.com>

	* api-docs/bonobo-activation.types: empty file so make dist works

	* api-docs/Makefile.am: comment out a section that doesn't appear
	to be needed, unless havoc forgot to commit some files (mailing
	him)

2002-02-01  Havoc Pennington  <hp@redhat.com>

	* configure.in: improve gtk-doc check to handle more cases and set
	up HTML_DIR.

	* api-docs/Makefile.am: move to the boilerplate from 
	pango, gtk, etc.

	* api-docs/bonobo-activation.sgml: set id of book to index so we
	get index.html

2002-01-25  Alexander Shopov  <al_shopov@web.bg>

	* configure.in (ALL_LINGUAS): Added "bg" (Bulgarian).

2002-01-25  Darin Adler  <darin@bentspoon.com>

	* server/object-directory-activate.c: (od_server_activate_exe):
	Get rid of <ctype.h> include. Change isspace to g_ascii_isspace.
	* server/object-directory-load.c: Get rid of <ctype.h> include.

2002-01-23  Darin Adler  <darin@bentspoon.com>

	* bonobo-activation/bonobo-activation-register.c:
	(bonobo_activation_make_registration_id):
	Display-specific registration IDs aren't working right
	now (see Michael Meeks for details, as he spent some
	time debugging this), so turn them off for now. Most
	likely we can fix bugs elsewhere in bonobo-activation
	and turn this back on.

2002-01-15  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.ini: Added Malay (ms)to ALL_LINGUAS.
	* po/ms.po: Added Malay Malay Translation.

2001-12-27  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added portuguese to ALL_LINGUAS

2001-12-15  Miles Lane <miles@megapathdsl.net>

	* acconfig.h:  Added "#undef HAVE_GETTEXT" entry.
	* configure.in:  added glib-gettextize support.

2001-12-17  Darin Adler  <darin@bentspoon.com>

	* bonobo-activation/bonobo-activation-register.c:
	(bonobo_activation_active_server_register): Started out to fix
	a spelling error, ended up improving the log message here.

2001-12-15  Ross Golder  <rossg@golder.org>

	* bonobo-activation.spec.in: Added 'share' to docdir.

2001-12-11  Johan Dahlin  <jdahlin@telia.com>

	* configure.in, Makefile.am, api-docs/*: Fix documentation.

2001-12-07  Laszlo Peter  <laca@ireland.sun.com>

	* configure.in, utils/bonobo-slay.in: fix detection of the username.

2001-12-06  Laszlo Peter  <laca@ireland.sun.com>

	* bonobo-activation/bonobo-activation-init.c: replaced
	"base_service = {}" with "base_service = { NULL }": need to include
	at least 1 element in struct initialisers to work with Forte C.

2001-12-05  Joe Shaw  <joe@ximian.com>

	* Makefile.am: s/xml-i18n/intltool/

	* configure.in: Change AM_PROG_XML_I18N_TOOLS to AC_PROG_INTLTOOL

	* server/Makefile.am: Change XML_I18N_MERGE_SERVER_RULE to
	INTLTOOL_SERVER_RULE

2001-11-29  Mark McLoughlin  <mark@skynet.ie>

	* api-docs/server-xml-reference.sgml: expand desription of
	  repo_ids attribute.

2001-11-22  Michael Meeks  <michael@ximian.com>

	* server/activation-context-query-parser.y: remove
	#define YYSTACK_USE_ALLOCA, fixes gbug #65059

2001-11-19  Michael Meeks  <michael@ximian.com>

	* server/client.c (main): prune _debug_shutdown committed
	in error.

2001-11-18  Ross Golder  <ross@golder.org>

	* bonobo-activation.spec.in: Updates.
	* MAINTAINERS (Documentation): Added myself to list of .spec
	file maintainers.

2001-11-16  Michael Meeks  <michael@ximian.com>

	* oafd/od-corba.c (impl_Bonobo_ObjectDirectory_activate):
	fix for mutliple activations causing grief issues ...
	forward port ...

2001-11-15  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-test.c (main): do a complex query.

2001-11-05  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-run-query.c (main): do a
	_debug_shutdown + free the result coming back, beef up
	the debugging messages.

	* server/client.c (main): do a _debug_shutdown.

	* bonobo-activation/bonobo-activation-async-callback.c
	(bonobo_activation_async_corba_callback_new): add pre-condition,
	store the objref in the closure, so we can unref it simply.
	(impl_Bonobo_ActivationCallback__destroy): release the object.
	(impl_Bonobo_ActivationCallback_report_activation_failed):
	remove potential leak on NULL callback - no concievable
	reason for a NULL callback anyway.

	* test/bonobo-activation-test-async.c (test_activate),
	(test_activate_from_id): don't block in iterations in case
	of timeout + add timeout define.

	* test/Makefile.am (TESTS/TESTS_ENVIRONMENT): use instead
	of 'check:' hack. Add bonobo-activation-test-async.

	* test/bonobo-activation-test.c (main): use _debug_shutdown.
	(test_empty, test_plugin): release object refs.

	* test/bonobo-activation-test-async.c (main): use
	_debug_shutdown
	(test_callback): release the object.
	
2001-11-06  Darin Adler  <darin@bentspoon.com>

	* server/object-directory-load.c: (od_process_server_xml_node):
	If you're gonna g_print, you're gonna have to include \n.

2001-11-06  Wang Jian  <lark@linux.net.cn>

	* configure.in(ALL_LINGUAS): Added zh_CN for Simplified Chinese.

2001-11-05  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-base-service.c
	(bonobo_activation_service_get_internal): release
	race_condition on first activation.

2001-11-02  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS, configure.in: Updated for 0.9.3.

2001-10-27  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-base-service.c
	(bonobo_activation_base_service_debug_shutdown): impl.

	* bonobo-activation/bonobo-activation-base-service.h
	(bonobo_activation_base_service_debug_shutdown): decl.
	
	* bonobo-activation/bonobo-activation-init.c
	(bonobo_activation_debug_shutdown): impl. to cleanup floating
	resources.

	* bonobo-activation/bonobo-activation-init.h:
	(bonobo_activation_debug_shutdown): decl.

2001-10-28  jacob berkman  <jacob@ximian.com>

	* bonobo-activation/Makefile.am
	($(libbonobo_activation_la_OBJECTS)): explicitely depend on
	$BUILT_SOURCES, due to automake problems with dependencies of
	autogenerated files

2001-10-26  Mark McLoughlin  <mark@skynet.ie>

	* server/client.c: (main): print the description field of a
	GeneralError exception.

2001-10-25  Mark McLoughlin  <mark@skynet.ie>

	* test/.cvsignore, test/Makefile.am, 
	test/bonobo-activation-test.c: (test_plugin): impl plugin test.
	(main): use.

	* test/plugin.server, test/plugin.idl,
	  test/bonobo-activation-testplugin.c: new files for 
	plugin test.

2001-10-26  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-shlib.c
	(bonobo_activation_activate_shlib_server): don't leak the POA
	reference we obtained.

2001-10-17  Louise Miller <louise.miller@sun.com>

	* idl/Bonobo_ActivationContext.idl,idl/Bonobo_Activation_types.idl, idl/Bonobo_ObjectDirectory.idl 
	  idl/Bonobo_Unknown.idl
	Changed #if !defined lines to #ifdef for compatibility with idlj compiler
 

2001-10-16  Mark McLoughlin <mark@skynet.ie>

	* bonobo-activation/bonobo-activaion.h: kill
	bonobo_activation_popt_options decl - duplicated in
	bonobo-activation-init.h.

2001-10-17  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation-async-callback.c
	(impl_Bonobo_ActivationCallback__destroy): don't free the
	servant while we still need it.
	(impl_Bonobo_ActivationCallback__finalize): do it here.

	* test/bonobo-activation-test-async.c: rename type to
	have _t suffix.

	* bonobo-activation/bonobo-activation-async-callback.c
	(impl_Bonobo_ActivationCallback_vepv): fix fatal
	brokenness and lack of type safety. re-order & kill
	redundant prototypes.
	(impl_Bonobo_ActivationCallback__destroy): make static,
	only used localy.
	(impl_Bonobo_ActivationCallback_report_activation_failed),
	(impl_Bonobo_ActivationCallback_report_activation_succeeded): 
	fix signatures to give more type safety.

2001-10-12  Carlos Perelló Marín <carlos@gnome-db.org>

	* server/activation-server-main.c: /s/oafinfo/server/

2001-10-01  Darin Adler  <darin@bentspoon.com>

	* configure.in: Get rid of misleading pointer to the oaf
	stable branch.

	* server/object-directory-config-file.c:
	(object_directory_load_config_file):
	* server/object-directory-load.c: (od_load_file):
	* utils/bonobo-activation-sysconf.c: (get_root_first_child),
	(add_directory), (remove_directory), (display_directories):
	Fix code that assumes doc or root node will be non-NULL when
	parsing configuration file.

2001-09-29  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" to the languages list.

2001-09-27  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo-activation/bonobo-activation-base-service.c: Open the
	lock file with O_RDWR so getting a write lock on it can succeed.

2001-09-26  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS, configure.in: Updated for 0.9.2.

	* bonobo-activation/bonobo-activation-shlib.c:
	(bonobo_activation_activate_shlib_server): Copy quoiting style for
	errors from oaf stable.

	* server/object-directory-corba.c: (od_dump_list): Nitpicky style
	fix.

2001-09-20  Mark McLoughlin <mark@skynet.ie>

	* test/bonobo-activation-test.c(main): don't try to
	print an exception id when there is no exception.

2001-09-20  Mark McLoughlin <mark@skynet.ie>

	* server/activation-context-query.c,
	  server/object-directory-load.c:
	s/strcasecmp/g_ascii_strcasecmp/g.

2001-09-17  Havoc Pennington  <hp@redhat.com>

	* bonobo-activation-2.0.pc.in (idldir): update

	* idl/Makefile.am (idldir): install IDL to 
	datadir/idl/bonobo-activation-2.0

2001-09-13  Havoc Pennington  <hp@redhat.com>
	
	* utils/bonobo-activation-sysconf.c: fix more libxml headers

	* server/Makefile.am (LDADD): change name of name server lib

Fri Sep 14 10:52:33 2001  George Lebl <jirka@5z.com>

	* utils/bonobo-activation-sysconf.c: the libxml headers are in
	  libxml/ subdirectory so include libxml/tree.h for instance rather
	  then tree.h

2001-09-13  Havoc Pennington  <hp@redhat.com>

	* server/object-directory-load.c: include libxml/parser.h, not
	just parser.h

	* server/object-directory-config-file.c: fix libxml includes

2001-09-10  Frank Belew  <frb@ximian.com>
	* bonobo-activation/bonobo-activation-init.c:
	(bonobo_activation_hostname_get): reorder declarations of ha_tmp and
	hn_tmp to remove alignment problems

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS: Updated for 0.9.1

	* bonobo-activation/Makefile.am: Minor tweaks needed to pass `make
	distcheck'.
	
	* test/Makefile.am: Install bonobo-activation-empty-server and
	broken.oafinfo to make `make check' pass.
	* test/empty.server: Don't try to reference current directory, it
	doesn't work anyway.
	
2001-09-02  Abel Cheung  <maddog@linux.org.hk>

	* configure.in (ALL_LINGUAS): Add zh_TW back.

Fri Aug 31 17:22:44 2001  George Lebl <jirka@5z.com>

	* configure.in: remove -Wcast-align, it's a warning that produces
	  warnings on standard headers on alpha sometimes.  And it's useless
	  on intel

2001-08-27  Theo van Klaveren  <t.vanklaveren@student.utwente.nl>

	* bonobo-activation/bonobo-activation-init.c: Fix header include
	order.

2001-08-24  Darin Adler  <darin@bentspoon.com>

	* bonobo-activation/bonobo-activation-id.c:
	(bonobo_activation_id_parse): Fix parameter to match header.

2001-08-22  Maciej Stachowiak  <mjs@noisehavoc.org>

	* configure.in: Turn on -Werror; also replace -ansi -std=c99 with
	-std=c9x

	* bonobo-activation/Makefile.am: Correct dependency on IDL
	compiler.

	* bonobo-activation/bonobo-activation-id.h,
	server/activation-context-corba.c: (ac_aid_to_query_string),
	(impl_Bonobo_ActivationContext_activate_from_id),
	(impl_Bonobo_ActivationContext_activate_from_id_async): Fix things
	to be warning-free with the latest ORBit2.

2001-08-22  Darin Adler  <darin@bentspoon.com>

	* server/activation-context-query.c: (qexp_sort_compare),
	(qexp_sort): Use g_qsort_with_data instead of using our own
	qsort_ex, which is the same thing.

	* server/Makefile.am:
	* server/qsort_ex.c:
	* server/qsort_ex.h:
	Remove qsort_ex.

2001-08-22  Darin Adler  <darin@bentspoon.com>

	* utils/Makefile.am: Get rid of some useless old -I directives.

2001-08-21  Theo van Klaveren  <t.vanklaveren@student.utwente.nl>

	* server/qsort_ex.c: Replace use of alloca() with g_alloca(),
	and include <galloca.h> instead of <alloca.h>.

2001-08-20  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo-activation/Makefile.am: Use spiffy new ORBit2 dependency
	support to automatically generate dependencies for IDL files and
	vastly simplify IDL compilation.

	* idl/Bonobo_ActivationContext.idl,
	idl/Bonobo_Activation_types.idl, idl/Bonobo_GenericFactory.idl,
	idl/Bonobo_ObjectDirectory.idl, idl/Bonobo_Unknown.idl: Rename
	include guards so they can easily be generated from the filename.

	* server/Makefile.am: Don't try to build skels here, they're
	already in the library.

2001-08-20  Maciej Stachowiak  <mjs@noisehavoc.org>

	* configure.in: Turn on more warnings (don't turn on -Werror yet
	because the idl comiler still outputs code with warnings).

2001-08-19  Peter Williams  <peterw@ximian.com>

	* configure.in (LT_AGE): Typo fix.

2001-08-17  Darin Adler  <darin@bentspoon.com>

	* bonobo-activation/bonobo-activation-activate.h:
	* bonobo-activation/bonobo-activation-async.h:
	* bonobo-activation/bonobo-activation-base-service.h:
	* bonobo-activation/bonobo-activation-id.h:
	* bonobo-activation/bonobo-activation-init.h:
	* bonobo-activation/bonobo-activation-register.h:
	* bonobo-activation/bonobo-activation-server-info.h:
	* bonobo-activation/bonobo-activation-shlib.h:
	* bonobo-activation/bonobo-activation.h:
	Use G_BEGIN_DECLS on the individual headers instead of
	doing an explicit extern "C" in the bonobo-activation.h
	header.

	* bonobo-activation/bonobo-activation-shlib.c:
	Add a Bonobo_GenericFactory.h include.
	
2001-08-18  Martin Baulig  <baulig@suse.de>

	* bonobo-activation/bonobo-activation-register.c
	(bonobo_activation_active_server_register): Don't use an
	unconditional g_warning() to output debugging information,
	changed it to g_message().

2001-08-17  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo-activation/bonobo-activation-activate.c,
	bonobo-activation/bonobo-activation-async-callback.h,
	bonobo-activation/bonobo-activation-register.c: Move around
	includes a bit.
	* idl/Bonobo_ActivationContext.idl: Move exceptions from here...
	* idl/Bonobo_Activation_types.idl: To here and put them in
	Bonobo::Activation so they are publicly accessible.
	* server/activation-context-corba.c: (ac_CORBA_Context_get_value),
	(ac_query_run), (impl_Bonobo_ActivationContext_add_directory),
	(impl_Bonobo_ActivationContext_remove_directory): Handle exception
	renames.
	* server/client.c: (main): Ditto.

2001-08-17  Darin Adler  <darin@bentspoon.com>

	* bonobo-activation/Makefile.am: Fix a typo.
	
	* bonobo-activation/bonobo-activation-activate.h:
	* bonobo-activation/bonobo-activation-async-callback.h:
	* bonobo-activation/bonobo-activation-async.h:
	* bonobo-activation/bonobo-activation-id.h:
	* bonobo-activation/bonobo-activation-register.h:
	* bonobo-activation/bonobo-activation-server-info.h:
	* bonobo-activation/bonobo-activation-shlib.h:
	Replace includes of Bonobo_ActivationContext.h with
	includes of Bonobo_Activation_types.h.
	
	* bonobo-activation/bonobo-activation-activate.c:
	* bonobo-activation/bonobo-activation-async.c:
	* bonobo-activation/bonobo-activation-init.c:
	* bonobo-activation/bonobo-activation-register.c:
	* server/client.c:
	Add includes as needed to get things to compile.

	* bonobo-activation/bonobo-activation-init.c:
	(bonobo_activation_get_popt_table_name): Change string from
	"OAF options" to "Bonobo activation options".
	
2001-08-16  Michael Meeks  <michael@ximian.com>

	* test/Makefile.am (emptydatadir): install empty.server
	to the right place.

	* server/Makefile.am (INCLUDES): set SERVERINFODIR
	correctly.

2001-08-14  Michael Meeks  <michael@ximian.com>

	* configure.in: bump version to 0.9.1 so we can check nicely
	elsewhere.

	* server/activation-server-main.c (main): search
	PATH + lib/bonobo/servers

	* utils/bonobo-slay.in: only look for .server files.
	and look in the new path.

	* server/Makefile.am (serverinfodir): install to
	$(libdir)/bonobo/servers

	* server/Bonobo_CosNaming_NamingContext.server: update the
	OAFIID here.

	* bonobo-activation/bonobo-activation-activate.c
	(bonobo_activation_name_service_get): mirror the change.

	* server/activation-server-main.c (main): namespace the 
	nameing context oafiid, but keep the UUID for Maciej :-)

2001-08-11  Michael Meeks  <michael@ximian.com>

	* utils/bonobo-slay.in: parse all .oafinfo, .oaf and
	.server files - kill gconfd-2 ( finaly ).

2001-08-10  Michael Meeks  <michael@ximian.com>

	* configure.in: add Dan Winship's perl detection and ps detection
	code from oaf-stable, generate bonobo-slay.

	* utils/Makefile.am: handle & install bonobo-slay.

	* test/Makefile.am: kill bonobo-activation-slay, too verbose.

2001-08-10  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-slay: fixup.

	* idl/Bonobo_ActivationContext.idl: move GeneralError

	* idl/Bonobo_GenericFactory.idl: to here.

	* bonobo-activation/bonobo-activation-shlib.c
	(bonobo_activation_activate_shlib_server): dump the
	g_module_error.

2001-08-07  Maciej Stachowiak  <mjs@noisehavoc.org>

	* server/activation-context-query-parser.y: Add prototype to fix
	OpenBSD build issues; patch from <smallm@world.std.com>

2001-08-07  Darin Adler  <darin@bentspoon.com>

	* configure.in: No need to make a Makefile in intl given
	how we use gettext.
	* Makefile.am: No need to have intl as a SUBDIR given how
	we use gettext.

2001-08-07  Mark McLoughlin <mark@skynet.ie>

	* api-docs/Makefile.am: fixup.

	* api-docs/server-xml-reference.sgml: add.

	* api-docs/bonobo-activation.sgml: use
	server-xml-reference.sgml.

2001-08-06  Darin Adler  <darin@bentspoon.com>

	* configure.in: Remove stray POTFILES sed line that is not
	needed and confuses the standard autogen.sh.

2001-08-02  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Actually install bonobo-activation-config.xml
	(you cannot use the same variable name for different things in
	automake, this'll override its previous value rather than
	installing both things).

	* server/object-directory-config-file.h (SERVER_CONFIG_FILE):
	Set this to the place where it's actually installed.

2001-08-01  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS, configure.in: Update for 0.9.0 release.

2001-08-01  Maciej Stachowiak  <mjs@noisehavoc.org>

	* idl/Bonobo_GenericFactory.idl: remove manufactures method and
	params argument from createObject method; nothing used either of
	these so generally they were just broken.
	* bonobo-activation/bonobo-activation-shlib.c
	(bonobo_activation_activate_shlib_server): Adjust to match the
	above.
	* server/object-directory-activate.c (od_server_activate_factory):
	Ditto.

2001-08-02  Michael Meeks  <michael@ximian.com>

	* test/bonobo-activation-test.c: fixup exception namespace.

	* test/empty.server: fix name.

	* test/broken.server: fixup.

2001-08-01  Darin Adler  <darin@bentspoon.com>

	* test/Makefile.am: Install the empty server into the new
	directory, not $prefix/share/oaf.
	* test/bonobo-activation-test.c: (test_object): Make failure
	message more clear about what kind of failure it was.
	(main): Update file and directory names so they are accurate.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* server/object-directory-load.c (od_load_directory): load
	.server files too.

	* bonobo-activation-2.0.pc.in: linc vs. the library.

	* bonobo-activation/Makefile.am: we have to install
	Bonobo_ActivationContext.h - it's an integral part of the API.

	* bonobo-activation-2.0.pc.in (includedir): correct path.

2001-08-01  Michael Meeks  <michael@ximian.com>

	* server/client.c (main): fix IDL:OAF/ to IDL:Bonobo/

	* bonobo-activation/bonobo-activation-init.c
	(bonobo_activation_activation_context_get),
	(bonobo_activation_internal_activation_context_get_extended),
	(bonobo_activation_object_directory_get),
	(cmdline_check, ac_check): ditto.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* server/object-directory-config-file.c
	(object_directory_load_config_file): be safe not sorry.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* idl/Bonobo_ActivationContext.idl: rename Property
	ActivationProperty. Put some sensible namespacing into
	the global enumerations: Bonobo_ACTIVATION_XYZ etc.

	* configure.in: disable API docs build.

	* docs/Makefile.am: get the right names.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* bonobo-activation/bonobo-activation.h: include async code.

	* idl/Bonobo_GenericFactory.idl: kill sequence TC
	suppression cruft.

	* bonobo-activation/: minor fixes.
	* server/: file cleans.
	* utils/: upd.
	* test/: fixup.

2001-07-31  Michael Meeks  <michael@ximian.com>

	* server/*: Radical re-hacking,
	* bonobo-activation/*: minor cleans
	* configure.in: updates
	* idl/*: s/stringlist/StringList/

2001-07-31  Michael Meeks  <michael@ximian.com>

	* server/server.h: copy from oafd/oafd.h, cleanup.

	* server/Makefile.am: re-vamp, rename oafd activationd
	for now, & oaf-client activation-client.

	* Makefile.am (SUBDIRS): remove oafd.

	* idl/Makefile.am (idl_DATA): remove Bonobo_ObjectDirectory
	for now it's in Bonobo_ActivationContext.

	* po/POTFILES.in: fix paths.

	* configure.in: remove zh_TW.Big5 it seems totaly screwed.
	
2001-07-30  Maciej Stachowiak  <mjs@noisehavoc.org>

	* Makefile.am:
	* server/Makefile.am:
	* server/activation-context-query-lexer.l:
	* server/activation-context-query-parser.y:
	* server/activation-context-query.h:
	* server/activation-server-corba-extensions.c:
	* server/activation-server-corba-extensions.h:

	A start on getting the server to build.
	
2001-07-30  Maciej Stachowiak  <mjs@noisehavoc.org>

	* bonobo-activation/Makefile.am:
	* bonobo-activation/bonobo-activation-activate-private.h:
	* bonobo-activation/bonobo-activation-activate.c:
	* bonobo-activation/bonobo-activation-activate.h:
	* bonobo-activation/bonobo-activation-async-callback.c:
	* bonobo-activation/bonobo-activation-async-callback.h:
	* bonobo-activation/bonobo-activation-async.c:
	* bonobo-activation/bonobo-activation-async.h:
	* bonobo-activation/bonobo-activation-base-service.c:
	* bonobo-activation/bonobo-activation-base-service.h:
	* bonobo-activation/bonobo-activation-fork-server.c:
	* bonobo-activation/bonobo-activation-i18n.h:
	* bonobo-activation/bonobo-activation-register.c:
	* bonobo-activation/bonobo-activation-register.h:
	* bonobo-activation/bonobo-activation-server-info.c:
	* bonobo-activation/bonobo-activation-server-info.h: 

	Get the rest of the client library to build (and do appropriate
	name mangling).

2001-07-30  Maciej Stachowiak  <mjs@noisehavoc.org>

	* idl/Bonobo_ActivationContext.idl, idl/Bonobo_Unknown.idl: Fix
	double-compilation guards.

	* bonobo-activation/Makefile.am,
	bonobo-activation/bonobo-activation-base-service.h,
	bonobo-activation/bonobo-activation-id.c,
	bonobo-activation/bonobo-activation-id.h,
	bonobo-activation/bonobo-activation-init.h,
	bonobo-activation/bonobo-activation-private.h,
	bonobo-activation/bonobo-activation-shlib.c,
	bonobo-activation/bonobo-activation-shlib.h: Get more stuff to
	build.

2001-07-30  Maciej Stachowiak  <mjs@noisehavoc.org>

	* Makefile.am, bonobo-activation/Makefile.am, configure.in,
	idl/Bonobo_ActivationContext.idl, idl/Bonobo_GenericFactory.idl,
	idl/Makefile.am: Get IDL and sources generated from it compiling
	properly.

2001-07-30  Maciej Stachowiak  <mjs@noisehavoc.org>

	Renamed from `oaf'.

	* acconfig.h, autogen.sh, configure.in: Make the new module
	configure.

2001-07-30  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): fire an
	exception if the factory acts strangely, and returns NIL
	when it should create an object - yet threw no exception.

2001-07-27  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): fire an
	exception if the library didn't contain the plugin we wanted.
	Localise exception strings.

2001-07-24  Wang Jian  <lark@linux.net.cn>

	* configure.in: zh_TW.Big5 added in ALL_LINGUAS

2001-07-20  Havoc Pennington  <hp@redhat.com>

        Merge from stable.
	
	* oafd/main.c (main): become a process group leader
	on startup

	* oafd/od-activate.c (od_server_activate_exe): use 
	oaf_internal_server_by_forking_extended() to set process group
	of activated servers

	* liboaf/oaf-fork-server.c
	(oaf_internal_server_by_forking_extended): 
	new function to allow setting process group of the child

2001-07-20  Richard Hult  <rhult@codefactory.se>

	* liboaf/oaf-activate.c (oaf_activate_from_id): Move the code that
	makes sure we have a CORBA_Environment over things that use ev, so
	that we don't pass a NULL environment to things	that can't handle
	it (like CORBA_Object_non_existent).

2001-07-19  Mark McLoughlin  <mark@skynet.ie>

	* configure.in: add AC_PROG_LEX. and later.. s/AC_PROG_LEX/AM_PROG_LEX/.

	* api-docs/.cvsignore, po/.cvsignore: updated.

2001-07-19  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): quiet
	registration debug accidentaly left on.

2001-07-18  Michael Meeks  <michael@ximian.com>

	* oafd/od-corba.c (impl_OAF_ObjectDirectory_register): rename to
	(impl_OAF_ObjectDirectory_register_new): this to match IDL.

2001-06-25  Michael Meeks  <michael@ximian.com>

	* oafd/od-corba.c (od_dump_list): don't dump properties
	containing a '-' they are most likely going to screw the
	terminal.

	* liboaf/oaf-fork-server.c (oaf_server_by_forking): add
	more debug on failure case.

	* liboaf/oaf-registration.c (rloc_file_lock): remove
	redundant re-open.

2001-07-18  Martin Baulig  <baulig@suse.de>

	* test/empty-server.c: Let the POA generate the ObjectId instead
	of providing one ourselves.

2001-07-17  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "nn" to ALL_LINGUAS.
	
2001-07-09  Havoc Pennington  <hp@redhat.com>

        Merge from stable.
	
	* liboaf/oaf-activate.c (oaf_activate_from_id): use below
	functions to report error properly if we can't fork oafd. Don't
	launch oafd if EXISTING_ONLY flag is specified.
	
	* liboaf/oaf-mainloop.c
	(oaf_internal_activation_context_get_extended): another
	internal function hack

	* liboaf/oaf-registration.c
	(oaf_internal_service_get_extended): new function, 
	to be used internally by OAF only for now

2001-07-16  Martin Baulig  <baulig@suse.de>

	* configure.in: Require gmodule for liboaf.

2001-07-14  Peter Williams  <peterw@ximian.com>

	* oaf-2.0.pc.in (Requires): Add gmodule to requires.

2001-07-14  Martin Baulig  <baulig@suse.de>

	* configure.in: Use PKG_CHECK_MODULES.

	* oaf-2.0.pc.in (idldir): New variable.

2001-07-12  Darin Adler  <darin@bentspoon.com>

	* liboaf/oaf-registration.c: (rloc_file_register): Fixed a
	mistake I made when merging.

2001-07-12  Darin Adler  <darin@bentspoon.com>

	Merged everything from the oaf-stable-0-6 branch and tagged the
	stable branch oaf-latest-0-6-merge.

	* configure.in:
	* liboaf/oaf-mainloop.c:
	* liboaf/oaf-registration.c: (rloc_file_lock), (rloc_file_check),
	(rloc_file_register), (rloc_file_unregister):
	* liboaf/oaf-servreg.c: (oaf_active_server_register):
	* po/POTFILES.in: 
	* po/desk.pl: Removed.

	Also fixed a bug that warning led me to.

	* oafd/main.c: (main): Don't close the fd if we didn't open it.

2001-07-12  Laszlo Peter  <laca@ireland.sun.com>

	* oafd/qsort_ex.c: added #include <config.h> and
	#include <alloca.h> for portability.

2001-07-10  Peter Williams  <peterw@ximian.com>

	* idl/oaf.idl: Typo fix.

2001-06-20  Michael Meeks  <michael@ximian.com>

	* liboaf/Makefile.am: add orbit-idl dependency on idl.

	* oafd/Makefile.am: ditto.

2001-06-18  Ramiro Estrugo  <ramiro@fateware.com>

	* oaf-2.0.pc.in:
	Add the oaf-2.0 suffix to the includedir.
	
2001-06-18  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in, oaf-config.in, oafConf.sh.in, .cvsignore,
	Makefile.am: Remove oaf-config.in and oafConf.sh

2001-06-16  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/Makefile.am: Install headers in a directory that allows
	for parallele installation with the 1.x version..

2001-06-14  Peter Williams  <peterw@ximian.com>

	* configure.in (AC_CHECK_FUNCS): Check for unsetenv.

	* oafd/main.c (main): If the platform doesn't have unsetenv,
	use putenv ("SESSION_MANAGER=");

	Patch from Laszlo Peter <Laszlo.Peter@ireland.sun.com>

2001-06-14  Nobody  <sopwith@redhat.com>

	* test/oaf-test-client.c, oafd/oafd-corba-extensions.c, oafd/main.c, liboaf/oaf-servreg.c:
	Add missing #include's, fix some other warnings
	* oafd/main.c: Wait until after we have written our IOR out to close dev_null_fd,
	in the unlikely event that someone wants to output the IOR to pre-dev_null_fd stdout or
	somesuch.
	* oafd/Makefile.am: OAF_*.oaf is a BUILT_SOURCE

2001-06-04  Peter Williams  <peterw@ximian.com>

	* oaf-2.0.pc.in: Add a datadir variable, so people can find where
	we install our IDL.

2001-05-31  Dietmar Maurer  <dietmar@ximian.com>

	* test/oaf-slay: use ps -U, else we kill arbitrary processes

2001-05-22  Darin Adler  <darin@eazel.com>

        * acinclude.m4: Add BUILD_INCLUDED_LIBDIR variable so we
        can build with new gettext.

2001-05-18  Martin Baulig  <baulig@suse.de>

	* liboaf/oaf-mainloop.c: "Unimprove", but fix ORBit2 detection.
	(you cannot use `ORBIT_MAJOR_VERSION >= 2' to find out whether ORBit
	uses the glib main loop; ORBit-martin-forked has the same version
	number, but it does not).

	* oafd/main.c (main): We need to call oaf_init() before creating
	a GMainLoop to make sure the thread system is initialized.

2001-05-15  Martin Baulig  <baulig@suse.de>

	Merged everything from the oaf-stable-0-6 branch and tagged the
	stable branch oaf-latest-0-6-merge.

2001-05-15  Martin Baulig  <baulig@suse.de>

	* configure.in, Makefile.am: Use xml-i18n-tools.

2001-05-04  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-mainloop.c: improve ORBit2 detection...

2001-05-04  Dietmar Maurer  <dietmar@ximian.com>

	* oaf-2.0.pc.in (Requires): added libxml-2.0

2001-04-17  Martin Baulig  <baulig@suse.de>

	* oaf-2.0.pc.in: Depend on ORBit-2.0 instead of hacking
	ORBIT_CFLAGS and ORBIT_LIBS into Libs: and Cflags:.

	* configure.in: Use pkg-config to check for ORBit-martin-forked.

	* oafd/Makefile.am (LDADD): Put back -lORBitCosNaming.

2001-03-23  Martin Baulig  <baulig@suse.de>

	* oafd/main.c: Call xmlKeepBlanksDefault(0) for the moment.

	* liboaf/oaf-mainloop.c: #define OAF_USES_GLIB_MAIN_LOOP
	if ORBIT2 is defined.

2001-03-23  Martin Baulig  <baulig@suse.de>

	* configure.in: Set `orbit_config_args' to `--use-service=name'.

	* oafd/Makefile.am (LDADD): Remove -lORBitCosNaming; this is
	already in the $(ORBIT_LIBS).

2001-03-22  Martin Baulig  <baulig@suse.de>

	* liboaf/Makefile.am: Call the library liboaf-2.la.

	* liboaf/*.[ch]: Use ORBit2; #include <orbit/orbit.h> instead
	of <orb/orbit.h>; also #include <string.h> where it was missing.

	* oafd/ac-query-expr.c, oafd/oafd-corba-extenstions.c:
	`CORBA_NVList' is already a pointer type in ORBit2.

	* oafd/main.c: Call LIBXML_TEST_VERSION.

	* liboaf/oaf-mainloop.c: Removed the HAVE_ORB_ORBIT_H
	conditional.

	* acconfig.h (HAVE_ORB_ORBIT_H): Removed.

2001-03-22  Martin Baulig  <baulig@suse.de>

	We're now on the GNOME 2.0 platform.

	* configure.in: Set version number to 0.7.0 to distinguish it
	from the stable branch; use pkg-config to check for thigns;
	depend on glib HEAD, ORBit2 and libxml2.

	* autogen.sh: Use gnome-common.

	* oaf-2.0.pc.in: New file.

2001-02-05  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in (ALL_LINGUAS): Added pt_BR to ALL_LINGUAS.

2001-01-30  Simos Xenitellis  <simos@hellug.gr>

	* configure.in: Added el (Greek) to ALL_LINGUAS.

2001-01-23  Marius Andreiana  <mandreiana@yahoo.com>

	* configure.in: Added ro (Romanian) to ALL_LINGUAS.

2000-01-19  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added sk (Slovak) to ALL_LINGUAS.

2001-01-11  Ian Campbell  <ijc25@cam.ac.uk>

	* configure.in: Add warning about HEAD branch, pointing people to
	oaf-stable-0-6

2001-01-01  Ali Abdin  <aliabdin@aucegypt.edu>

        This is the 'manual eyeball' technique to fixing memory leaks - also
        known as "I don't need no steenkin' memprof".

        * liboaf/oaf_async.c:
        (oaf_activate_async): Free the 'ext_requirements' variable before
        returning.

        * oafd/ac-corba.c:
        (impl_OAF_ActivationContext_activate_async): Free 'hostname' when
        done with it.
        (impl_OAF_ActivationContext_activate_from_id_async): Free
        'requirements' if we get an exception.

        * oafd/od-corba.c:
        (od_get_active_server): Free 'display' variable when done with it.

2000-12-30  Ali Abdin  <aliabdin@aucegypt.edu>

        We now save a whopping 28 bytes with this fix (according to
        memprof)

        * oafd/od-utils.c (od_utils_load_xml_file): Free a leaked
        string.

        * oafd/main.c (main): ditto.

2000-11-24  Michael Meeks  <michael@helixcode.com>

	* oafd/od-utils.c (od_utils_load_config_file): fix leak.

2001-05-14  Maciej Stachowiak  <mjs@eazel.com>

	* MAINTAINERS: Remove Michael, per his request.

2001-05-09  Darin Adler  <darin@eazel.com>

	* test/Makefile.am: Make Tinderbox happy by including
	oaf-slay in EXTRA_DIST.

2001-05-09  Michael Meeks  <michael@ximian.com>

	* test/Makefile.am: remove oaf-slay generation.

	* test/oaf-slay: Totaly re-written by
	Brian Cameron <Brian.Cameron@Sun.COM>

2001-05-08  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): 
	return some half way useful exceptions.

2001-04-21  Kjartan Maraas  <kmaraas@gnome.org>

	* liboaf/oaf-async-corba.c: Added #include <config.h>
	
2001-04-19  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): Minor style
	fixes.

2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): Remove
	unnecessary attempt to get activation context; getting the object
	directory should be perfectly sufficient for starting oafd.

2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf-private.h:
	* liboaf/oaf-activate.c: (oaf_activate_from_id):
	* liboaf/oaf-async.c: (oaf_activate_from_id_async):
	* liboaf/oaf-mainloop.c: (oaf_activation_context_get),
	(oaf_object_directory_get):
	* liboaf/oaf-registration.c: (oaf_registration_check),
	(oaf_registration_iterate), (existing_check), (oaf_existing_set),
	(oaf_activators_use):
	* liboaf/oaf-registration.h:
	* liboaf/oaf-servreg.c: (oaf_active_server_register),
	(oaf_active_server_unregister):

	More changes in preparation for oafd life cycle management fixes.
	
2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/Makefile.am:
	* liboaf/oaf-activate.c: (oaf_activate_from_id):
	* liboaf/oaf-async.c: (oaf_activate_from_id_async):
	* liboaf/oaf-mainloop.c: (oaf_activation_context_get),
	(cmdline_check), (ac_check), (local_activator), (oaf_postinit):
	* liboaf/oaf-registration.c: (ri_compare),
	(oaf_registration_location_add), (oaf_registration_check),
	(oaf_registration_iterate), (oaf_registries_lock),
	(oaf_registries_unlock), (oaf_registration_unset),
	(oaf_registration_set), (existing_check), (oaf_existing_set),
	(ai_compare), (oaf_registration_activator_add),
	(oaf_activators_use), (oaf_service_get), (rloc_file_lock),
	(rloc_file_unlock), (rloc_file_check), (rloc_file_register),
	(rloc_file_unregister):
	* liboaf/oaf-registration.h:
	* liboaf/oaf-servreg.c: (oaf_active_server_register),
	(oaf_active_server_unregister): 
	* liboaf/oaf-fork-server.c:

	Assorted refactoring / code churn, plus attempt to fix 6218
	(SOLARIS: Multiple oafd processes) by fixing some obvious bugs in
	the locking logic.

2001-04-17  Darin Adler  <darin@eazel.com>

	* liboaf/Makefile.am: Another try at a dependency that
	might get the Tinderbox to build.

2001-04-17  Darin Adler  <darin@eazel.com>

	* liboaf/Makefile.am: Add more dependencies. Maybe this
	will make that Tinderbox build.

2001-04-17  Darin Adler  <darin@eazel.com>

	* idl/oaf.idl: Add missing parenthesis.
	* liboaf/Makefile.am: Tweak a tiny bit.

2001-04-17  Darin Adler  <darin@eazel.com>

	* oafd/Makefile.am: Must remove the stamp files too, or you
	end up with a tarball that won't build.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* oafd/Makefile.am (dist-hook): remove built files from distro.

	* liboaf/Makefile.am: ditto.

2001-04-13  Peter Williams  <peterw@ximian.com>

	* oafd/main.c (main): Unset "SESSION_MANAGER" to prevent slow
	activations if oafd persists across X sessions, Otherwise, spawned
	programs inherit a bad SESSION_MANAGER and waste time trying to
	connect to it.

2001-03-22  Robey Pointer  <robey@eazel.com>

	* api-docs/Makefile.am:
	Let 'make install' work when gtk-doc support is off.

2001-03-15  Rusty Conover  <rconover@zootweb.com>

	* idl/oaf.idl: Added proper preprocessor magic to allow other apps
	to include oaf.idl in their idl.

2001-03-01  Robin * Slomkowski  <rslomkow@eazel.com>

	* NEWS: updated that I am fixing the perl5.00404 mistake
	* configure.in: updated development version to 0.6.6

2001-03-01  Seth Nickell  <seth@eazel.com>

	reviewed by: Maciej Stachowiak <mjs@eazel.com>

	* oafd/od-activate.c: (od_server_activate_exe):

	Add casts to guchar to all isspace calls so 
	they'll compile on Solaris. Fix bug #7199.
	
2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* NEWS: updated file from the ChangeLog

2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* configure.in: upped version to 0.6.5 for development

2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* configure.in: upped the version to 0.6.4 for release

2001-02-26  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Robey Pointer  <robey@eazel.com>

	Fixed bugzilla.eazel.com bug 6981 (Unregistering servers causes
	failure when activating a re-registered version), AKA
	bugzilla.ximian.com bug 1559

	* liboaf/oaf-servreg.c (oaf_active_server_register): Call the
	ObjectDirectory registration method _before_ returning the IOR to
	avoid a race condition when activating the same server twice in
	rapid succession. This fixes the bugs above.

	* docs/standard-attributes.txt: Document new attributes.

2001-02-20  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: George Lebl  <jirka@5z.com>

	Fixed bug 6728 (inherited file descriptors stymie automounter)

	* oafd/main.c (main): Replace stdin, stdout and stderr with
	/dev/null to avoid automounter problems when these are redirected
	by the OS to a log file. However, do not do this if
	OAF_DEBUG_OUTPUT is set to a non-empty value, so that there is
	still a way to get debug output.

2001-02-15  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-mainloop.c: (oaf_get_popt_table_name):
	Fix "OAF Options" to be "OAF options" to match all the other
	popt option sections which use lower case (except GNOME).

2001-02-15  Dan Damian  <dand@dnttm.ro>

	* configure.in (ALL_LINGUAS): added "ro" (Romanian".

2001-02-14  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in, NEWS: Updated for 0.6.3

2001-02-07  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Pavel Cisler  <pavel@eazel.com>

	Fix bug 6266 (oafd process size frows as you use Nautilus). Two of
	these leak fixes are from a patch by <migras@atlas.uvigo.se>. In
	the process fixed 2728 (Memory leak to avoid segfaulting) - turns
	out it is now safe to free.

	* oafd/ac-corba.c (ac_query_run): Free the requirements and sort
	item query expressions when done (thanks to <migras@atlas.uvigo.se>).
	
	(impl_OAF_ActivationContext_activate_from_id): Free requirements
	string.
	
	(impl_OAF_ActivationContext_activate_from_id_async): Free
	requirements string.

	* oafd/ac-query-expr.c (qexp_free): Free function name for functions.
	
	(qexp_function_new): turn wacky for loop into equivalent while loop

	(qexp_evaluate_id): Set needs_free to TRUE (thanks to
	<migras@atlas.uvigo.se>).
	
	* oafd/ac-query-lex.l, oafd/ac-query-parse.y: Reformatted a bit.

2001-02-06  Maciej Stachowiak  <mjs@eazel.com>

	* Makefile.am: Put .in versions xml-i18n-tools in EXTRA_DIST.
	* .cvsignore: Add .in versions of xml-i18n-tools.

2001-02-05  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in (ALL_LINGUAS): Added pt_BR to ALL_LINGUAS.

2001-02-03  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: cope with SunOS elegantly.

2001-02-01  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Robey Pointer  <robey@eazel.com>

	* liboaf/liboaf.h: Move oaf_popt_options to oaf-mainloop.h *
	liboaf/oaf-mainloop.h, liboaf/oaf-mainloop.c
	(oaf_get_popt_table_name): New call to get the proper name for the
	oaf options table (a translated copy of the string "OAF Options").

2001-02-01  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Darin Adler  <darin@eazel.com>

	Changes to help fix bug 5510 (descriptions of OAF-specific options
	in --help are not translated).

	* liboaf/Makefile.am: pass OAF_TEXTDOMAIN define.
	* liboaf/oaf-mainloop.c: (oaf_init): Call bindtextdomain so popt
	options etc get translated right.

2001-01-31  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Ian McKellar  <ian@eazel.com>

	Fix bug 6170 (OAF should have an easy way to prefer components
	according to a prioritized preference list on query or activate)
	
	* oafd/ac-query-expr.c: (qexp_func_prefer_by_list_order): Add a
	new query language operator to allow sorting results according to
	an explicit preference list.
	(qexp_constant_compare): Fix comparing numeric constants. The
	previous version was numerically unstable and would give
	inconsistent results when comparing two equal numbers (such as -1
	to -1, as revealed by the change above).

	* api-docs/query-langage.sgml, docs/query-language.txt: Document
	the new operator.

2001-01-31  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/main.c (main): Change working directory to "/" on startup
	to fix bug 6059 (oafd's cwd stymies automounter), patch from
	Wolfgang Sourdeau <wolfgang@ultim.net>
	
2001-01-25  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Darin Adler  <darin@eazel.com>
	
	* liboaf/oaf-plugin.c (oaf_plugin_unuse): Defer unloading shlib to
	idle time to fix 2736 (shared libraries for components will never
	be unloaded).
	
	(oaf_plugin_real_unuse): The idle handler. 

2001-01-23  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.6.2
	* configure.in: Bumped version to 0.6.2

2001-01-19  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added sk (Slovak) to ALL_LINGUAS.

2001-01-09  Darin Adler  <darin@eazel.com>

	* .cvsignore:
	* po/.cvsignore:
	Shh!

2001-01-09  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-mainloop.c: Added i18n domain to popt options.

2001-01-03  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: George Lebl  <jirka@5z.com>

	Part of the fix to bug 2693 (Localizers don't know how to localize
	.oafinfo); make .oaf files translatable through the normal po
	mechanism.
	
	* autogen.sh, configure.in: Enable oaf-xml-i18n-tools
	* oafd/OAF_naming-service.oaf.in: Renamed from oafd.oafinfo, added
	* oafd/Makefile.am: Add translation merge rule.
	* po/POTFILES.in: Added oafd/OAF_naming-service.oaf.in
	* xml-i18n-extract, xml-i18n-merge: Remove (now using copies we
	get from xml-i18n-toolize).

2001-01-01  Ali Abdin  <aliabdin@aucegypt.edu>

        This is the 'manual eyeball' technique to fixing memory leaks - also
        known as "I don't need no steenkin' memprof".

        * liboaf/oaf_async.c:
        (oaf_activate_async): Free the 'ext_requirements' variable before
        returning.

        * oafd/ac-corba.c:
        (impl_OAF_ActivationContext_activate_async): Free 'hostname' when
        done with it.
        (impl_OAF_ActivationContext_activate_from_id_async): Free
        'requirements' if we get an exception.

        * oafd/od-corba.c:
        (od_get_active_server): Free 'display' variable when done with it.

2000-12-30  Ali Abdin  <aliabdin@aucegypt.edu>

	We now save a whopping 28 bytes with this fix (according to
	memprof)

	* oafd/od-utils.c (od_utils_load_xml_file): Free a leaked
	string.

	* oafd/main.c (main): ditto.

2000-12-28  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: Reverse grep on type="shlib" so we don't
	go round trying to kill shared libraries.

2000-12-24  Ali Abdin  <aliabdin@aucegypt.edu>

	* oafd/od-load.c (od_load_directory): Free the pathname. It was
	  getting leaked.

2000-12-19  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Rebecca Schulman  <rebecka@eazel.com>

	* xml-i18n-merge: Entity-encode the translated strings, to avoid
	possible XML parsing problems. This is really the wrong way to
	handle things - the encoding should be converted to UTF-8 and the
	characters should be entity encoded as UTF-8 multibyte chars, not
	bytes. But this should work OK for now.
	
2000-12-19  Maciej Stachowiak  <mjs@eazel.com>

	* xml-i18n-extract, xml-i18n-merge: First cut of translation
	extraction and merge tools, based on Kenneth Christiansen's
	ui-xml-extract.pl. The merge tool still needs to deal with
	different character sets and both need a better home.

2000-11-29  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf.h: Make definition of oaf_popt_options
	unconditional.

2000-11-28  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Reject libxml 2.x and other unknown libxml
	versions to fix bug 1956 (oaf config does not reject libxml 2).

2000-11-28  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf.h: Made inclusion of popt.h and definition of the
	popt argument table unconditional, fixing bug 1291 (liboaf.h
	include isn't standalone). OAF depends on popt anyway so the
	reason for the optionality was unclear.
	* docs/oaf.dtd: Added DTD for oafinfo files.
	* oafd/oafd.oafinfo: Improved formatting.

2000-11-24  Michael Meeks  <michael@helixcode.com>

	* oafd/od-utils.c (od_utils_load_config_file): fix leak.

2000-11-22  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Mathieu Lacage  <mathieu@eazel.com>

	* oafd/od-load.c:
	(OAF_ServerInfo_load): Massively refactored and cleaned up for
	style. Also, made the loader accept ".oaf" as well as ".oafinfo"
	files.
	(od_entry_read_props, od_validate, od_process_server_xml_node,
	od_load_file, od_load_directory, od_string_to_boolean,
	od_filename_has_extension): New and updated helper functions.
	* oafd/oafd.h: Changed prototype for OAF_ServerInfo_load
	* oafd/od-corba.c: (update_registry): Fixed call to OAF_ServerInfo_load
	
	* oafd/ac-corba.c (ac_context_to_string_array): Removed out of
	date FIXME comment.

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/oaf-servreg.h: once more, add correct includes.

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	add corrct includes within the header file.
	* liboaf/oaf-activate.h:

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	Patch from John R. Sheets <dusk@ravendusk.org>
	* api-docs/architecture.sgml:
	* api-docs/configuring.sgml:
	* api-docs/migrating.sgml:
	* api-docs/oafinfo-ref.sgml:
	* api-docs/query-langage.sgml:
	* api-docs/tutorial.sgml:

2000-11-16  Elliot Lee  <sopwith@redhat.com>

	* (oaf_server_by_forking) Use $OAF_OD_IOR environment variable
	instead of --oaf-od-ior cmdline arg.

2000-11-16  Mathieu Lacage  <mathieu@eazel.com>

	Fix bug 4658
	* api-docs/Makefile.am: add new doc file.
	* api-docs/liboaf-decl.txt: add declarations of new API.
	* api-docs/liboaf-sections.txt: add declaration of new file.
	* api-docs/liboaf.sgml: add ref to new API.
	* api-docs/tmpl/debugging.sgml: new doc file.	
	* liboaf/oaf-activate.c: (oaf_get_test_components_enabled):
	add proper API doc.

2000-11-12  Jason Leach  <leach@wam.umd.edu>

	* oafd/Makefile.am (LDADD): added @INTLLIBS@ because some
	platforms don't do -lintl automatically.  From the bug reports
	listed below.

	* utils/Makefile.am (LDADD): same here.

	* configure.in: don't need to AC_CHECK_FUNC strsignal here anymore

	* liboaf/oaf-registration.c (oaf_strsignal): remove this function
	(actually it's just a define to strsignal or a
	not-totally-portable replacement function for systems without
	strsignal.h).  Fixes bugs.gnome.org reports #10807, #17146, and
	#31298.

	* liboaf/oaf-registration.c (oaf_server_by_forking): replace a
	oaf_strsignal() call with a g_strsignal().

2000-11-09  Josh Barrow  <josh@eazel.com>

	* liboaf/oaf-activate.c:
	* oafd/ac-corba.c: (ac_aid_to_query_string):
	Put bug numbers to the only FIXMEs.

2000-11-09  Darin Adler  <darin@eazel.com>

	Do the recommended (by DV) steps to make oaf ready for either
	gnome-xml 1.X or gnome-xml 2.X, to save us some work later.

	* oafd/main.c: (main): Use LIBXML_TEST_VERSION macro.

	* oafd/od-load.c: (od_entry_read_props), (OAF_ServerInfo_load):
	* oafd/od-utils.c: (od_utils_load_config_file):
	* utils/oaf-sysconf.c: (add_directory), (remove_directory),
	(display_directories):
	Use xmlChildrenNode instead of childs and xmlRootNode instead
	of root.

2000-11-08  Eskil Heyn Olsen  <eskil@eazel.com>

	* oafd/main.c:
	#include <locale.h> for setlocale

2000-11-08  Szabolcs BAN <shooby@gnome.hu>

	* configure.in: Initial support of Hungarian language.

2000-11-08  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: kill apps with the 'lt-' prefix as well.

	* test/Makefile.am (check): impl. overriding autoconf version,
	setup the OAF_INFO_PATH and the PATH to avoid needing to install
	stuff.

2000-09-07  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: add kill of lt-app-name as well as
	just app-name.

2000-11-06  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS, configure.in: Updated for 0.6.1

2000-11-03  Kjartan Maraas  <kmaraas@gnome.org>

	* oafd/main.c: (main): Added a call to setlocale(LC_ALL, "");
	to fix problems caused by glibc-2.1.9x and newer assuming
	US-ASCII locale without it.
	
2000-10-31  Darin Adler  <darin@eazel.com>

	* oaf.spec.in: Got rid of vendor field. Checking these in is a
	bad idea. Also turned off "check" since "make check" doesn't
	work for oaf at the moment.

2000-10-31  Darin Adler  <darin@eazel.com>

	* configure.in: Fix compile check so it properly detects the state
	of gcc options.
	* oaf.spec.in: Added Vendor field to build and turned on warnings
	when building the RPM (for the Tinderbox). Also turned on "make
	-k" so the Tinderbox will show more than one error.
	
	* oafd/.cvsignore: Corrected for the latest changes in generated
	files.
	* test/.cvsignore: Corrected for the latest changes in generated
	files.

2000-10-31  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in: Added pl to ALL_LINGUAS.

2000-10-29  Mathieu Lacage  <mathieu@eazel.com>

	Fix compilation for newer gcc.
	* liboaf/oaf-registration.c: (oaf_existing_set):
	* oafd/oafd-corba-extensions.c: (oafd_CORBA_Context_get_value):

2000-10-27  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/Makefile.am: fix compilation for documentation.

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* api-docs/Makefile.am:
	Temporary fix to the dist-hook to get the build working
	again.

2000-10-27  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/Makefile.am: add liboaf-decl.txt and 
	liboaf-sections.txt to the tarball.

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/liboaf-decl.txt:
	The new version of gtkdoc I just installed yells at
	some of my syntax... fixed :)

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/tmpl/query_and_activation.sgml: remove this old useless
	template file. Man, the API doc rocks now :)

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* README: add requirement for gtk-doc and jade to build docs.
	* api-docs/Makefile.am: tweak.
	* api-docs/fdl.sgml: add real fdl.
	* api-docs/liboaf-decl.txt: tweak: I know all gtkdoc magic now :)
	* api-docs/liboaf-sections.txt: same.
	* api-docs/liboaf.sgml: fix for new file
	* api-docs/tmpl/query.sgml: new file.
	
	* liboaf/oaf-activate.c: 
	* liboaf/oaf-async.c:
	* liboaf/oaf-plugin.c:
	* liboaf/oaf-servreg.c:
	Fix inline API doc.

	* liboaf/oaf-i18n.h:
	Fix i18n. ayyyy!!! It works now :)
	
	* po/da.po:
	* po/de.po:
	* po/es.po:
	* po/fi.po:
	* po/fr.po:
	* po/ga.po:
	* po/gl.po:
	* po/it.po:
	* po/ja.po:
	* po/ko.po:
	* po/no.po:
	* po/ru.po:
	* po/sl.po:
	* po/sv.po:
	* po/tr.po:
	* po/uk.po:
	make distcheck updates all those...
	

2000-10-25  Mathieu Lacage <mathieu@eazel.com>

	* liboaf/oaf-actid.c: fi warning while generating the doc
	due to bad comment format in there.

2000-10-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* oafd/ac-corba.c (impl_OAF_ActivationContext__get_directories):
	increase i in the for loop.

2000-10-19  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS, configure.in: Updated for 0.6

2000-10-15  Jarkko Ranta <jjranta@cc.joensuu.fi>

	* added "fi" to ALL_LINGUAS

2000-10-09  Maciej Stachowiak  <mjs@eazel.com>

	* HACKING: Updated commit policy.
	* MAINTAINERS: Mentioned people with blanket or local commit
	privs.

2000-10-07  Bradford Hovinen  <hovinen@helixcode.com>

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
 	Search through the array for the value with the correct name and
 	return it, rather than naively returning the first value in the
 	array

2000-10-05  Mathieu Lacage  <mathieu@eazel.com>

	fix OAF-side part of bugzilla.eazel.com 2131
	add async interfaces to oaf for activation.

	add some doc discussion fo the new stuff.
	* api-docs/architecture.sgml: 
	* api-docs/liboaf-decl.txt:
	* api-docs/liboaf-sections.txt:
	
	* idl/oaf.idl: new CORBA interfaces for async activation.
	
	* liboaf/Makefile.am: add all new header files and new 
	source files.
	* oafd/Makefile.am: beautification.
	
	* liboaf/liboaf.h: remove all function declarations and 
	move them to the relevant new header files.

	The new header files.
	* liboaf/oaf-async.h, liboaf/oaf-mainloop.h, liboaf/oaf-registration.h,
	  liboaf/oaf-util.h, liboaf/oaf-plugin.h, liboaf/oaf-actid.h,
	  liboaf/oaf-activate-private.h, liboaf/oaf-activate.h,
	  liboaf/oaf-servreg.h

	add proper header includes.
	* liboaf/oaf-plugin.c:
	* liboaf/oaf-mainloop.c:
	* liboaf/oaf-util.c:
	
	Kind of refactor so that code is shared with the new async 
	activate functions.
	* liboaf/oaf-activate.c: (oaf_maybe_add_test_requirements),
	(oaf_copy_string_array_to_GNOME_stringlist), (oaf_query),
	(oaf_activate), (oaf_activate_from_id):
	* liboaf/oaf-registration.c: (oaf_registration_check),
	(existing_check):

	CORBA implementation of the OAF::ActivationCallback interface.
	* liboaf/oaf-async-corba.c: (oaf_async_corba_callback_new),
	(impl_OAF_ActivationCallback__destroy),
	(impl_OAF_ActivationCallback_report_activation_failed),
	(impl_OAF_ActivationCallback_report_activation_succeeded):
	* liboaf/oaf-async-corba.h:

	API wrappers for the new CORBA async calls.
	* liboaf/oaf-async.c: (oaf_activate_async),
	(oaf_activate_from_id_async):

	Server-side implementation of the new interfaces.
	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_async),
	(ac_aid_to_query_string), (ac_context_to_string_array),
	(impl_OAF_ActivationContext_activate_from_id),
	(impl_OAF_ActivationContext_activate_from_id_async): implement 
	the new activation methods, refactor to share code between the 
	async and non-async versions of the thingy.

	Tests for the new API.	
	* test/Makefile.am: add new test for async inerfaces.
	* test/oaf-test-async.c: (test_callback), (test_activate),
	(test_activate_from_id), (main): test for async interfaces.
	* test/oaf-test-client.c: (main): dont' remember: a space prolly.

	Hm... Dunno: made a make distchek and it regenerated all those.
	* po/da.po, po/de.po, po/es.po, po/fr.po, po/ga.po, po/gl.po,
	  po/it.po, po/ja.po, po/ko.po, po/no.po, po/ru.po, po/sl.po,
	  po/sv.po, po/tr.po, po/uk.po:
	
2000-10-04  Elliot Lee  <sopwith@redhat.com>

	* /cvs/gnome/oaf/oafd/od-load.c: When loading the properties,
	provide an error message if a property name begins with _ (these
	are reserved for OAF to provide).

	* /cvs/gnome/oaf/docs/Makefile.am,
	/cvs/gnome/oaf/docs/oaf-regloc.txt: Docs.

2000-10-03  Jaka Mocnik  <jaka@activetools.si>

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
	check local_ev NOT ev for exceptions from CORBA_Context_get_values()!

2000-09-28  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	Switch the order of assignment of warnings to CFLAGS so that they
	can be overridden by the user at configure time.
	
2000-09-26 Alastair McKinstry <mckinstry@computer.org>

	* configure.in (ALL_LINGUAS): Added Irish translation

2000-09-25  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Rename --enable-debug to --enable-oaf-debug to
	avoid it getting turned on automatically by Eazel build scripts.
	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
	Remove debugging message.
	* oafd/od-corba.c (update_registry): Remove debugging message.

2000-09-23  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/od-corba.c (od_get_active_server,
	impl_OAF_ObjectDirectory_activate,
	impl_OAF_ObjectDirectory_register): Remove debugging output
	statements I accidentally left in.

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value): Add
	debugging statement to help people who are seeing problems with
	the new DISPLAY hack.

2000-09-22  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-registration.c: (oaf_existing_set),
	(oaf_service_get): Renamed the static "existing_set" to
	"oaf_existing_set" to make the it easier for the leak checker
	(currently in the Nautilus source module, but useful for any
	program) to recognize this as an exception to the normal rules
	about what leaks are. A bit of a hack; alternative include adding
	code to free things at exit time.

2000-09-22  Maciej Stachowiak  <mjs@eazel.com>

	Some changes leading towards fixing bugzilla.eazel.com bugs 3033
	and 2037; these changes recognize the fact that GUI-based exe
	servers are inherently per-x-display, and allow them to register
	per-display. It also makes sure to pass the application's DISPLAY
	rather than oafd to launched exe servers.

	* idl/oaf.idl: Add "display" context item to some methods.

	* liboaf/oaf-mainloop.c: (local_activator), (oaf_orb_init):

	* liboaf/liboaf-private.h, liboaf/oaf-registration.c:
	(oaf_setenv): Convenience wrapper for setenv for lame systems that
	only have putenv.
	(oaf_server_by_forking): Added display argument; if non-NULL, will
	be set as DISPLAY in the server's environment.

	* liboaf/liboaf.h, liboaf/oaf-servreg.c
	(oaf_active_server_register): Accept registration IDs of the form
	`DISPLAY,iid', for example "foo.bar.com:0.0,OAFIID:some_iid". Just
	passing an IID is also accepted.
	(oaf_make_registration_id): New convenience function for making a
	registration ID from an IID and a display.

	* oafd/ac-corba.c: (ac_CORBA_Context_get_value): renamed from
	`ctx_get_value', and changed to use
	oafd_CORBA_Context_get_value.
	(impl_OAF_ActivationContext_activate,
	impl_OAF_ActivationContext_activate_from_id): Use the renamed
	function.

	* oafd/od-activate.c (od_server_activate_factory): Pass the
	CORBA_Context we got, not the one from oaf_context_get(), so
	DISPLAY-passing works right.
	(od_server_activate_exe): Make sure to pass the DISPLAY to to the
	launched executable.

	* oafd/od-corba.c (od_get_active_server): New function that tries
	getting an active per-display sever for the context display, and
	if that files an active non-per-display server.
	(impl_OAF_ObjectDirectory_activate): Use od_get_active_server to
	try to find the active server.
	(impl_OAF_ObjectDirectory_register): Handle new "DISPLAY,iid"
	registration IDs (as well as plain IIDs).

	* oafd/oafd-corba-extensions.h, oafd/oafd-corba-extensions.c:
	(oafd_CORBA_Context_get_value): New utility function.

	* oafd/Makefile.am: Add new files to build.
	
2000-09-18  Maciej Stachowiak  <mjs@eazel.com>

	Part of fixing bugzilla.eazel.com bugs 674 & 2052.

	* liboaf/liboaf.h, liboaf/oaf-activate.c
	(oaf_set_test_components_enabled,
	oaf_get_test_components_enabled): New API calls to set and check
	whether to return test components from queries or consider them
	for activation. The default is FALSE. If not set to TRUE, then
	components which define the test_only boolean attribute to TRUE
	will not be considered (activating them by ID will still work
	though). This is a client-side setting so it can be set
	per-client.
	(oaf_query, oaf_activate): Use the above settings.

2000-09-17  Dan Winship  <danw@helixcode.com>

	* liboaf/oaf-registration.c (oaf_server_by_forking): deal with
	waitpid being interrupted and close race condition with SIGCHLD
	handler.

2000-09-15  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added Galician (gl) to ALL_LINGUAS

2000-09-13  Dan Winship  <danw@helixcode.com>

	* liboaf/oaf-mainloop.c (oaf_hostname_get): Copy the results of
	gethostbyname into a temporary variable before passing it to
	gethostbyaddr, since the two functions may be sharing the same
	static buffer.

2000-09-08  Elliot Lee  <sopwith@redhat.com>

	* /cvs/gnome/oaf/idl/oaf-factory.idl:

	add 'params' back in. Lookie ma, I can screw thangs up!

	* /cvs/gnome/oaf/test/empty-server.c,
	/cvs/gnome/oaf/idl/oaf-factory.idl,
	/cvs/gnome/oaf/liboaf/liboaf.h,
	/cvs/gnome/oaf/liboaf/oaf-servreg.c:

	BackPedal(tm)

	* /cvs/gnome/oaf/test/empty-server.c,
	/cvs/gnome/oaf/oafd/od-corba.c:

	Oops.

	* /cvs/gnome/oaf/liboaf/liboaf.h,
	/cvs/gnome/oaf/liboaf/oaf-servreg.c,
	/cvs/gnome/oaf/oafd/od-corba.c,
	/cvs/gnome/oaf/idl/oaf-factory.idl, /cvs/gnome/oaf/idl/oaf.idl:

	Some changes to allow reffing factories and allow factories to notify object
	directories that they don't have any more objects left to use.

2000-09-06  Pavel Cisler  <pavel@eazel.com>

	* configure.in:
	Get rid of -Wno-uninitialized. This way we will get uninitialized
	variable warnings when we do a release build (with optimizations
	-O1 or higher).

2000-09-03  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	* oafd/ac-query-expr.c: (qexp_evaluate_variable),
	(qexp_evaluate_id):
	* oafd/od-corba.c: (update_registry):
	* oafd/od-utils.c: (od_utils_load_config_file):

	Converted XXX comments to FIXME comments. Added bugzilla bug
	numbers for all FIXMEs (after filing bugs).
	
2000-08-31  Martin Baulig  <baulig@suse.de>

	* autogen.sh: Don't use oaf-hack-macros; this doesn't seem
	to work quite well.

	* oaf-hack-macros/oaf-gettext.m4: Removed; simply use acinclude.m4
	instead.

	* acinclude.m4: New file containing AM_GNU_OAF_GETTEXT.

2000-08-30  Maciej Stachowiak  <mjs@eazel.com>

	* oaf.spec.in: Fixed License field (it used to be called Copyright
	and claimed GPL whereas OAF is actually a mix of GPL and LGPL.)

2000-08-29  Manuel de Vega Barreiro <barreiro@arrakis.es>

	* configure.in (ALL_LINGUAS): added "es"

2000-08-24  Christopher R. Gabriel  <cgabriel@softwarelibero.org>

	* configure.in (ALL_LINGUAS): added "it"

2000-08-15  Yuri Syrota <rasta@renome.rovno.ua>

	* configure.in: Add "uk" to ALL_LINGUAS.
	
2000-08-14  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* configure.in: Add "ja" to ALL_LINGUAS.

2000-08-13  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bump to 0.5.1
	* NEWS: Update for 0.5.1

2000-08-13  Anders Carlsson  <andersca@gnu.org>

	* utils/oaf-sysconf.c: Include string.h to allow compilation 
	without warnings.
	* oafd/od-utils.c: Likewise.

	* api-docs/liboaf-decl.txt: Make typedef enum use <ENUM> 
	instead of <STRUCT>.

2000-08-12  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.5.0
	* README: Added descriptive blurb.

2000-08-12  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (main): clean some mess.

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bump version to 0.5.0

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* idl/oaf-factory.idl: Rename GNOME::GenericFactory interface to
	GNOME::ObjectFactory (leaving in GNOME namespace to avoid being
	labeled "against GNOME").
	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): Deal with the rename.
	oafd/od-activate.c (od_server_activate_factory): Likewise.

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-factory-suppress.h: Hack include file to avoid
	multiple definition of CORBA_sequence_CORBA_string.
	* liboaf/Makefile.am: Build and install it.
	* idl/oaf-factory.idl: Get the magic pragmas right to deal with
	this idl being included in other idl files.

2000-08-11  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs: doc tweaking.
	* liboaf/*.c: more API doc tweaking.

2000-08-11  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/Makefile.am: add skeletons to the library.

2000-08-11  Mathieu Lacage  <matheiu@eazel.com>

	* idl/oaf-factory.idl: _evil_ ugly hack to get oaf compilation running.
	If we are generating the oaf-factory stubs and skeletons, we decide to
	#define ORBIT_DEF_CORBA_sequence_CORBA_string 1 so the 
	CORBA_sequence_CORBA_string_* functions are not defined both in the 
	factory and the oaf stubs. (breaks stuff upon linking)

2000-08-12  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs: tweak documentation.
	* idl/oaf-factory.idl: s/gnome/oaf/.

2000-08-10  Mathieu Lacage  <mathieu@eazel.com>

	fixes compilation of gnome-core afetr oaf is installed on 
	top of gnome-libs
	* idl/Makefile.am: use oaf-factory.idl
	* idl/gnome-factory.idl: remove.
	* idl/oaf-factory.idl: add. we don't care about the history. 
	* idl/oaf.idl: include oaf-factory.idl instaed of gnome-factory.idl
	* liboaf/Makefile.am: use oaf-factory.idl

2000-08-09  Mathieu Lacage <mathieu@eazel.com>

	* add api-doc directory to cvs and everything it contains :)
	Happy users.

2000-08-09  Robin * Slomkowski  <rslomkow@eazel.com>

        * oaf.spec.in: moddifed using nifty neato buggy new
	spec formating tool


2000-08-09  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: Add more tests.

	* test/Makefile.am: Stop broken.oafinfo installing by default; it gives
	errors.

	* test/oaf-test-client.c (main): Add more tests.

	* oafd/od-load.c (OAF_ServerInfo_load): update checks, & allocations.
	(od_validate_iid): rename to (od_validate): and make errors more friendly.

	* oafd/ac-corba.c (ac_do_activation): check server_type before strcmp

2000-08-07  Maciej Stachowiak  <mjs@eazel.com>

	* CVSVERSION: New file, used to detect whether we are configuring
	a cvs version or a release tarball.
	
	* configure.in: Default -Werror to off when configuring a release
	tarball, and to on when configuring a cvs version.

2000-08-04  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: added oaf-config.xml.sample to EXTRA
	* autogen.sh: added aclocal include of oaf-hack-macros dir
	* configure.in:	modified to use AM_GNU_OAF_GETTEXT
	instead of AM_GNU_GETTEXT
	* liboaf/Makefile.am: added  oaf-i18n.h as a private header
	* liboaf/oaf-i18n.h: moved this file out of the root
	* oaf-hack-macros/oaf-gettext.m4: it is a copy of the file from gnome/macros
	with the GETTEXT macro names changed.
	* oaf-i18n.h: moved to liboaf

2000-08-03  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "da" and "no" to ALL_LINGUAS.

2000-07-31  Ettore Perazzoli  <ettore@helixcode.com>

	* utils/Makefile.am: Add `-I$(top_srcdir)' for `oaf-i18n.h'.

2000-07-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/od-load.c: (od_entry_read_props): Accept either
	oaf_attribute or oaf_property in oafinfo XML files. Thanks to
	Peter Williams for catching that the code had been accidentally
	changed to accept "oaf_propibute" [sic] only, which is clearly
	wrong.

2000-07-29  ERDI Gergo <cactus@cactus.rulez.org>

	* idl/oaf.idl: Changed Attribute to Property to avoid clash with
	the reserved word `Attribute'
	* liboaf/liboaf.h, liboaf/oaf-util.c, oafd/ac-query-expr.c,
	oafd/client.c, oafd/od-load.c: Changed `Attribute' to `Property'
	everywhere (including function names)

2000-07-25  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "de" and "ru" to ALL_LINGUAS,
		as Kai and Valek had got committed their
		 translations.

2000-07-25  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/Makefile.am: make builddir != srcdir work.
	* liboaf/oaf-registration.c: (oaf_server_by_forking): 
	internationalization
	* oafd/Makefile.am: make builddir != srcdir work.
	* oafd/ac-corba.c: (ac_do_activation): internationalization
	* oafd/od-activate.c: (od_server_activate): internationalization
	* oafd/od-load.c: (od_entry_read_attrs), (OAF_ServerInfo_load): 
	internationalization
	* oafd/od-utils.c: (od_utils_load_xml_file):internationalization
	* po/Makefile.in.in:
	* utils/Makefile.am: make builddir != srcdir work.
	* utils/oaf-sysconf.c: (save_file), (display_config_path),
	(add_directory), (display_directories): internationalization

2000-07-25  Mathieu Lacage  <mathieu@eazel.com>

	* oafd/od-load.c: (OAF_ServerInfo_load): 
	fix bug 1665 for true after Michael Meeks report.
	* oafd/Makefile.am: internationalization.
	* oafd/main.c: (main): idem.

2000-07-25  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "tr" to ALL_LINGUAS.

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* po/ChangeLog: added as gettext 0.10.35 seems to require
	it for po dirs

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: Added Documentation files to dist
	* Makefile.in.in: removed dependency on ChangeLog

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: added support for oaf-config.xml
	* oafd/Makefile.am: added support for od-utils.h

2000-07-18  Michael Meeks  <michael@helixcode.com>

	* oafd/main.c (main): fix some brokenness.

2000-07-17  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: add NotInServer entry.

	* test/oaf-test-client.c (main): add test for non-registering
	server.

	* liboaf/oaf-servreg.c (oaf_active_server_register): make
	need_printout module global, rename to need_ior_printout.
	(oaf_timeout_reg_check): implement catch for norberts.
	(oaf_timeout_reg_check_set): allow turning it off.

	* liboaf/oaf-mainloop.c (oaf_postinit): hook in the check function
	if appropriate, be a bit defensive.

2000-07-24  Mathieu Lacage <mathieu@eazel.com>

	Adds internationalization to oaf. (TODO: add it 
	to the test directory). So, marked strings to be 
	translated, added proper autoconf/automake magic
	where needed, included new file oaf-i18n.h where 
	needed. added a basic french translation. Feel 
	free to change it.

	Adds proper copyrights and licence headers to all 
	source files. liboaf is LGPLed and oafd is GPLed.
	all files have been afected by this commit so it 
	is no use describing them.

	You want to know that the utils directory and the po
	directory were added to cvs: utils contains the tool
	Elliot wanted to process the oaf configuration file.
	po contains the translated portable object files.

2000-07-23  ERDI Gergo  <cactus@cactus.rulez.org>

	* idl/gnome-factory.idl: Changed `supports' to `manufactures' to
	be in sync with Bonobo::GenericFactory and to avoid clash with the
	IDL reserved word `supports'

2000-07-21  Mathieu Lacage <mathieu@eazel.com>

	Closes bugzilla.eazel.com number 1703 

	* doc/oaf-config.doc: add doc for config paths.
	* Makefile.am: add oaf-config.xml.in to the build.
	* oafd/Makefile.am: add od-utils.[hc] to te build.
	* oafd/od-utils.[hc]: add function od_utils_load_config_file.
	* oafd/main.c: add call to od_utils_load_config_file to 
	really read the configuration from the xml file.
	I now need to write a command line util to manipulate
	the configuration file from shell scripts as Sopwith asked
	me.
	
2000-07-19  Gene Z. Ragan  <gzr@eazel.com>

	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib):
	Remove a debugging g_message. Sorry.

2000-07-17  Mathieu Lacage <mathieu@eazel.com>

	* oafd/main.c: realy fix bug 1666. I am a real 
	asshole: GNOME_PATH support is now working.
	close bug 1665 which does not seem to be an issue
	anymore. Fix last Changelog entry: wong bug number.
	
2000-07-14  Michael Meeks  <michael@helixcode.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): add debug for
	people who can't match their oafids up and thus cause a program
	to be exec'd that doesn't register the correct iid, hence oafd will
	block waiting for some data on the pipe; whereas in reality there is
	none.

2000-07-14  Mathieu Lacage <mathieu@eazel.com>

	* oafd/main.c: (main): fix bug 1666.
	add support for the GNOME_PATH env var to find the oaf
	files around. Also s/ getenv/ g_getenv/. Bad maciej.
	Good Darin :)
	
2000-07-10  Robin * Slomkowski <rslomkow@eazel.com>

	* test/Makefile.am: added $(scrdir) for .tmpl file

2000-07-07  Michael Meeks  <michael@helixcode.com>

	* liboaf/liboaf.h: extern "C".

2000-07-06  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: add.

	* test/Makefile.am (oaf-slay): add oaf-slay generation.

2000-07-05  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (main): update to return a value
	dependant on tests passing.

	* test/Makefile.am (TESTS): add oaf-test-client

	* oafd/od-load.c (od_validate_iid): update to make Maciej
	happy.

2000-06-21  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (test_empty): add return value.
	(main): make it more obvious if everything succeeded.

2000-06-05  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c (od_validate_iid): implement.
	(OAF_ServerInfo_load): check iid's for conformance.

2000-07-03  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.4.0
	* configure.in: Bumped to 0.4.0

2000-07-02  Robin * Slomkowski <rslomkow@eazel.com>

	* oaf.spec.in: added more files such as *.m4 /usr/share/oaf

2000-06-27  Gene Z. Ragan  <gzr@eazel.com>

	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib):
	* oafd/ac-corba.c: (ac_do_activation), (ctx_get_value):
	Removed some g_messages left from debugging.

2000-06-27  Gene Z. Ragan  <gzr@eazel.com>

	Work on making shared libraries/plugins properly activate.
	
	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib): Fixed the way
	that the GNOME_stringlist is parsed when extracting the location
	and oafiid of the shlib.  Before, the code was indexing off the
	beginning of the stringlist if no factories are present in the
	shlib. Now, the last two elements of the stringlist in the plugin
	are the oafiid and the location info.
	
	Removed a mirrored variable that caused code to crash when
	activating shlib.

	* oafd/ac-corba.c: (ac_do_activation): Fixed the way that
	factories in shared libraries are handled.  If a shlib contains no
	factories, a GNOME_stringlist was created with one element with an
	allocation of zero. Incremented the variable that tracks the
	number of factories.

	Store both the oafiid and location info as the last two entries in
	the GNOME_stringlist.  This data is used later when the shlib is
	acvtivated.

2000-06-20  ERDI Gergo  <cactus@cactus.rulez.org>

	* idl/oaf.idl (OAF): New exception: IncompleteContext

	* oafd/ac-corba.c (impl_OAF_ActivationContext_activate_from_id):
	Throw an IncompleteContext when the context is incomplete (duh)

2000-06-19  Darin Adler  <darin@eazel.com>

	* .cvsignore: Ignore generated oaf.spec.
	* liboaf/oaf-util.c: (CORBA_sequence_CORBA_string_copy):
	Fixed a bug that caused the buffer for a sequence of strings
	to be allocated 4 times too big.

2000-06-17  Dan Winship  <danw@helixcode.com>

	* configure.in: Make sure the user has the special post-0.5.1
	ORBit.

	* README: explain how to get it if he doesn't.

2000-06-16  Darin Adler  <darin@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext__get_servers),
	(impl_OAF_ActivationContext_query): Changed OAF itself to use
	the new liboaf calls I just added.

2000-06-16  Darin Adler  <darin@eazel.com>

	* liboaf/liboaf.h:
	* liboaf/oaf-util.c: (CORBA_sequence_CORBA_string_copy),
	(OAF_AttributeValue_copy), (OAF_Attribute_copy),
	(CORBA_sequence_OAF_Attribute_copy), (OAF_ServerInfo_copy),
	(OAF_ServerInfo_duplicate):
	Add new useful public calls to be shared by clients.
	The CORBA_string one is not public because it's really not
	at all OAF-specific.

2000-06-14  Dan Winship  <danw@helixcode.com>

	* configure.in: Move --enable-more-warnings to the end so that
	configure tests don't get run with -Werror enabled, which can skew
	the results. ("What do you mean I don't have working const??")

2000-05-30  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: add circular and broken exe tests.

	* oafd/ac-corba.c (ac_do_activation): add bound on number of layers,
	and exception for activation loops.

	* test/oaf-test-client.c (main): Add broken exe and circular
	factory loop tests. Add loads of redundant braces to make Maciej
	a happy chappy. Print out exception text to verify they are correct.

2000-05-31  Darin Adler  <darin@eazel.com>

	* oafd/main.c: Fixed so it will compile if OAF_DEBUG is unset.

2000-05-31  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-mainloop.c (do_debug): Don't define if OAF_DEBUG is
	not set, otherwise it will be unused and we'll get a warning.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Enable -Werror and lots of useful warning flags.
	
	* liboaf/liboaf-private.h: Fix warnings.
	* liboaf/liboaf.h: Fix warnings.
	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id): 
	Fix warnings.
	* oafd/ac-query-lex.l: Fix warnings.
	* oafd/od-corba.c: (update_registry): Fix warnings.
	* test/oaf-test-client.c: Fix warnings.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	Remove some stray puts() calls.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	Change ID activation so that for IIDs as well as for AIDs that are
	not fully specified, the defaults for username, hostname and
	domain are the same as the user's context for the activation. This
	fixes bugzilla.eazel.com task #503.

2000-05-29  Michael Meeks  <michael@helixcode.com>

	* test/Makefile.am: install both files.

	* test/empty.oafinfo: split out regression tests into

	* test/broken.oafinfo: create.

2000-05-26  Michael Meeks  <michael@helixcode.com>

	* test/empty.oafinfo: Add bogus entry with deliberately broken
	factory location.

	* idl/oaf.idl: Fix missing exceptions causing oafd to segfault.

	* test/oaf-test-client.c (empty_test): expand.
	(test_object): add. (test_oafd): see if we crashed the daemon
	(main): update to add test for fix.

2000-05-26  Michael Meeks  <michael@helixcode.com>
	
	* test/oaf-run-query.c (main): sort comments.

	* test/Makefile.am: Stupid cut and paste error fixed, re-instating the
	test client, doh.

	* test/oaf-test-client.c (test_empty): split.
	(main): expand.

	* oafd/ac-query-expr.c (qexp_sort): cast sort_compare to right type,
	include qsort_ex.h

2000-05-24  Darin Adler  <darin@eazel.com>

	* docs/standard-attributes.txt: Updated documentation of some
	of the Nautilus-specific attributes.

2000-05-24  Michael Meeks  <michael@helixcode.com>

	* docs/query-language.txt: Fix typo in example code.

2000-05-15  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/main.c (main): rename environment variable for oafinfo
	files to OAF_INFO_PATH; use new IID for name service.

	* oafd/oafd.h: * oafd/od-load.c (OAF_ServerInfo_load): take a list
	of strings rather than a path-like string for directories to
	search.

	* oafd/od-corba.c (registry_directory_needs_update),
	(update_registry), (OAF_ObjectDirectory_create),
	(impl_OAF_ObjectDirectory__get_servers),
	(impl_OAF_ObjectDirectory_activate): check if any of the oafinfo
	directories have changed before a _get_servers or _activate call,
	and if so, reread-them.
	
2000-05-10  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-activate.c: (oaf_name_service_get): Fixed bad cut &
	paste job.

	* liboaf/oaf-activate.c (oaf_name_service_get): Access name
	service via the new IID.

	* oafd/oafd.oafinfo: Reformat; change IID format to new style.

	* NEWS: News since last release.

	* docs/Makefile.am: Install new docs.

	* docs/debugging.txt: Fix debugging info.
	
	* docs/id-format.txt: Update ID format to brave new uuid system.

	* test/Makefile.am: Install oaf-run-query.

2000-05-09  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bumped version to 0.3.0.

	* HACKING: New file covering policy for this module.
	
	* docs/activation-discussion.txt: New file; IRC discussion between
	me and Elliot about activation by IID instead of AID.
	
	* docs/query-language.txt: Removed never-implemented `has_field'
	function. Added new `defined' function. Documented all operators.
	
	* oafd/ac-query-lex.l: Changed alias for XOR operator from "^" to
	"^^".

2000-05-08  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-util.c (oaf_server_info_attr_lookup): Various fixes
	to avoid crashing on attr lookup.

2000-05-08  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-util.c: (oaf_server_info_attr_lookup): Adjust
	language handling so if a language looks like "en_US" we will try
	that value first, then "en"; this way regionalization can work
	better.

2000-05-07  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf-private.h, liboaf/oaf-registration.c
	(oaf_server_by_forking): Instead of taking a specific fd to dup
	the magic ior pipe to, instead take the number of an argument that
	is expected to contain a %d, where the real ior fd will be
	substituted. This change is needed because hardcoding 123 for the
	fd everywhere is lame, and can break on systems where a lower file
	descriptor limit has been set.
  	
	* liboaf/oaf-registration.c (oaf_activators_use),
	(oaf_service_get):
	liboaf/oaf-mainloop.c (local_activator):
	oafd/od-activate.c (od_server_activate_exe):
	Updated to deal with the above change.
	
2000-05-07  Maciej Stachowiak  <mjs@eazel.com>

	* idl/gnome-factory.idl, idl/oaf.idl, test/empty.idl: Indented
	gnome-style and added modeline.

	* acconfig.h, liboaf/liboaf-private.h, liboaf/liboaf.h,
	liboaf/oaf-actid.c, liboaf/oaf-activate.c, liboaf/oaf-mainloop.c,
	liboaf/oaf-plugin.c, liboaf/oaf-registration.c,
	liboaf/oaf-servreg.c, liboaf/oaf-util.c, oafd/ac-corba.c,
	oafd/ac-query-expr.h oafd/client.c, oafd/main.c, oafd/oafd.h,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	oafd/qsort_ex.c, oafd/qsort_ex.h, test/empty-client.c,
	test/empty-server.c, test/oaf-run-query.c, test/oaf-test-client.c:
	Reindented everything GNOME style, and added emacs mode-lines to
	hopefully keep it that way.

2000-05-02  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c, docs/debugging.txt, docs/query-language.txt: 
	Add debugging document, Add examples of various oaf queries,

2000-05-02  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c (od_entry_read_attrs): Validate the values
	from the XML stream, warn on NULL strings.

2000-04-28  Maciej Stachowiak  <mjs@eazel.com>

	* ChangeLog: Add Sopwith-standard empty ChangeLog

2000-04-27  Maciej Stachowiak  <mjs@eazel.com>

	* docs/standard-attributes.txt:
	Clarified some things; removed irrelevant open questions.

	* test/oaf-run-query.c:
	Add ability to provide sort criteria as well as a test query.

	* oafd/ac-corba.c, oafd/od-corba.c:
	Fix random formatting errors.

	* liboaf/oaf-activate.c,
	liboaf/liboaf.h (oaf_query, oaf_activate): Use char
	*const *, not const char ** in these prototypes. The latter causes
	warnings if you try to pass char ** and is not what is really
	intended anyway.

2000-04-26  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c (qexp_sort_compare): Make
	sure to always return the appropriate choice of a negative number,
	a positive number, or 0, otherwise qsort_ex gets badly confused.

	* oafd/ac-query-lex.l: Capitalize all logical
	operators and add "XOR" as a synonym for "^" for consistency.

2000-04-26  Darin Adler  <darin@eazel.com>

	* oafd/ac-query-parse.y: Fixed unary operators.

	* test/.cvsignore: Some more files to ignore.

2000-04-26  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c (qexp_func_defined): New function
	implementing the new `defined' operator.  This is similar to the
	documented but unimplemented `has_field' but more general (should
	work on variables as well as fields) and with nicer syntactic
	sugar (you can write expressions like "repo_ids.defined()").

	* oafd/ac-query-expr.c (qexp_func_has_one): I could not figure out
	the logic of the for loop that is the heart of this test so I made
	it use an explicit boolean variable to indicate when it has
	successfully found a match.

	* oafd/ac-query-expr.c (qexp_evaluate_id):
	when allocating space for the char** array, multiply the number of
	elements by sizeof (char *), otherwise insufficient space is
	allocated and mayhem ensues.

	* docs/standard-attributes.txt:
	Standard attributes that should be specified in oafinfo files.

	* oafd/ac-query-lex.l:
	Allow `:' character in identifiers to allow the illusion of attribute
	namespaces.

2000-04-20  George Lebl  <jirka@5z.com>

	* configure.in, .cvsignore, Makefile.am, oafConf.sh.in: 
	Add oafConf.sh file so that gnome-config works with oaf.

2000-04-17  Kelly Lynn Martin  <kelly@gimp.org>

	* oafd/Makefile.am, liboaf/Makefile.am, oaf-config.in:
	Configuration tweak to avoid dependency on orbit-config and
	orbit-idl being in $PATH.

2000-04-17  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-mainloop.c (oaf_orb):
	Initialize to CORBA_OBJECT_NIL so that oaf_orb_get will return
	a valid value before you call oaf_init() and therefore can be used
	to tell if oaf_init() has been called already.

2000-04-16  Maciej Stachowiak  <mjs@eazel.com>

	* oaf-config.in: pass --use-service=name to orbit-config since we
	now implement the name service

	* liboaf/liboaf.h, liboaf/oaf-activate.c (oaf_name_service_get): 
	New function. A convenience function to get the CosNaming service,
	so user apps don't have to know it's IID.

	* oafd/ac-query-expr.c (qexp_eval_id): When returning a stringv
	value, indicate that it should not be freed. This leaks memory but
	otherwise oafd segfaults if you have a stringv of 3 elements or
	more. So I am putting in this hack for now.

2000-04-14  Maciej Stachowiak  <mjs@eazel.com>

	* test/Makefile.am, test/oaf-run-query.c: New test program to run
	an OAF query and print the resulting IIDs. 

2000-04-13  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c (OAF_ServerInfo__copy): CORBA_string_dup() the
	empty string for unspecified fields instead of passing NULLs to
	avoid attempting to free a null pointer in the skeletons when
	querying. 

	* oafd/od-load.c (OAF_ServerInfo_load): if the top-level element
	is <oaf_info>, step into it.  This is so we can have records for
	multiple servers in one .oafinfo file.

	* oafd/ac-corba.c (ac_do_activation): if we can't find the server
	for the specified factory, give a useful error instead of
	segfaulting.
	(impl_OAF_ActivationContext_activate_from_id): allow activation
	from IID as well as AID. This is done by doing a query-based
	activation. This means there is some non-determinism in what
	server is activated; this should be fixed by eventually having
	some low-priority selection criteria to express the appropriate
	defaults for AID fields.

	* oafd/ac-query-expr.c (qexp_evaluate): if we have a cached value,
	copy it and mark the copy as not needing freeing before returning
	it to acoid double-frees.

2000-04-10  Elliot Lee  <sopwith@redhat.com>

	* oafd/main.c, oafd/Makefile.am, oafd/oafd.oafinfo:
	Implement naming service inside OD for mjs.

2000-04-10  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c: Fix sort function to ensure NULL pointers
	always compare as greater so they end up last.

	* oafd/Makefile.am: Add qsort_ex.h

	* oafd/Makefile.am: Add qsort_ex.c to the build.

	* oafd/ac-query-expr.c, oafd/qsort_ex.c, oafd/qsort_ex.h (qsort_ex): 
	New function; a version of qsort that allows a user-data argument
	for the compare function.
	(qexp_sort): Use qsort_ex instead of the ad-hoc sort algorithm.

2000-04-05  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-corba.c: Misc fixes to Jaka's changes.

2000-04-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* oafd/ac-corba.c (child_od_update_list): 
	call CORBA_sequence_set_release() with FALSE on the acquired
	servers list and CORBA_sequence_set_release() with TRUE on the old
	servers list.

2000-04-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* liboaf/oaf-actid.c (oaf_actid_parse): when encountering a ',',
	copy the part if bracket_count == 1 and not 0.

2000-03-01  Cody Russell <bratsche@dfw.net>

	* idl/gnome-factory.idl: Undoing that last commit. Sorry.

	* idl/gnome-factory.idl: Generate liboaf/oaf.h to say 
	  #include <liboaf/gnome-factory.h>
	instead of
	  #include <"liboaf/gnome-factory.h">.

2000-02-21  Elliot Lee  <sopwith@redhat.com>

	* test/Makefile.am, idl/Makefile.am, liboaf/Makefile.am,
	configure.in, Makefile.am: 0.2.0

2000-02-18  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-plugin.c: no deathwatch for now

2000-02-16  Elliot Lee  <sopwith@redhat.com>

	* idl/gnome-factory.idl: and yet some more

2000-02-15  Elliot Lee  <sopwith@redhat.com>

	* oafd/main.c, oafd/od-corba.c,	liboaf/oaf-registration.c,
	liboaf/oaf-util.c: Some bug fixes etc.
	* liboaf/oaf-registration.c: Use CORBA_Object_non_existent()
	instead of CORBA_Object_is_nil() to check that listed server is
	alive & well, not just non-nil. Also fix strsignal warning.
	* liboaf/oaf-util.c: Fix warnings.
	* oafd/main.c: Use oaf_init() instead, just for sanity.
	* oafd/od-corba.c: Don't output server list by default.

2000-02-02  Elliot Lee  <sopwith@redhat.com>

	* test/empty-server.c, liboaf/oaf-servreg.c: If we can't get an
	ObjectDirectory, start up an activation context so that one will
	appear.

2000-02-01  Elliot Lee  <sopwith@redhat.com>

	* test/Makefile.am: Install empty.oafinfo.

2000-01-15  Martin Baulig  <martin@home-of-linux.com>

	* liboaf/oaf-registration.c: s/oaf_reglocks_lock/oaf_reglocs_lock/.

2000-01-14  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c: try to eliminate locking during
	possible user input or long delays 

2000-01-07  Havoc Pennington  <hp@redhat.com>

	* oafd/od-corba.c, idl/oaf.idl: Add an EXISTING_ONLY activation
	flag to oaf.idl and object directory activate routine.

1999-12-14  Elliot Lee  <sopwith@redhat.com>

	* test/oaf-test-client.c: Make it compile (add missing param).

1999-12-10  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-actid.c: 
	Add oaf_servinfo_to_actinfo().

1999-12-10  Havoc Pennington  <hp@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-mainloop.c:
	add oaf_is_initialized()

1999-12-07  Jeremy Wise  <jwise@pathwaynet.com>

	* liboaf/oaf-util.c: Fixed a couple compilation errors

1999-12-07  Elliot Lee  <sopwith@redhat.com>

	* docs/test.oafinfo, liboaf/liboaf.h, liboaf/Makefile.am,
	liboaf/oaf-util.c: Add some util routines for retrieving
	attributes from an OAF_ServerInfo. 
	Put a proper description in the test.oafinfo for reference purposes.

1999-12-06  Elliot Lee  <sopwith@redhat.com>

	* TODO:	Update TODO.

1999-12-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* liboaf/liboaf.h: it's struct poptOption not poptOptions

1999-12-03  Elliot Lee  <sopwith@redhat.com>

	* oaf.m4: The "duh" fix for empty 'for' loops, from Jonas Oberg.

1999-12-03  Michael Zucchi  <zucchi@zedzone.mmc.com.au>

	* oaf.m4: Add an empty "" string to the modules for loop, so it
	will end up valid shell syntax if no modules are defined.  This
	shouldn't cause problems when they are defined (it will just
	evaluate to an empty string anyway)

	* liboaf/oaf-registration.c, configure.in: Check for strsignal(),
	and use that instead of sys_siglist[] to get a signal name if it
	exists.

	* liboaf/liboaf-version.h.in: Make sure the last line of this file
	has a \n on it, otherwise it can be dropped off the file when
	processed.

1999-11-29  Havoc Pennington  <hp@redhat.com>

	* liboaf/oaf-registration.c: another IOR g_free()

	* liboaf/oaf-actid.c: Free strings inside an ActivationInfo

	* liboaf/oaf-mainloop.c: in oaf-mainloop.c, CORBA_free the object
	directory list in the non-error case (ac_check function)

	* liboaf/oaf-registration.c: missing semicolon

1999-11-29  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c: Fix memory leak - when creating a new
	'struct SysServerInstance', remember to add it onto the list.

1999-11-29  Havoc Pennington  <hp@redhat.com>

	* liboaf/oaf-registration.c:
	Free a returned IOR string if we don't store it

	* liboaf/oaf-activate.c: mem leak

1999-11-23  Havoc Pennington  <hp@redhat.com>

	* oaf.m4: Put quotes around $4 in "for module in $4" so it works
	if you have no modules 
	
1999-11-23  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-mainloop.c, liboaf/oaf-registration.c,
	liboaf/oaf-servreg.c, oafd/client.c: 
	Plug some file descriptor leaks.

1999-11-22  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-corba.c, oafd/ac-query-expr.c, oafd/client.c,
	liboaf/liboaf.h, liboaf/liboaf-private.h: Do the hokey pokey!

	* oafd/ac-corba.c, liboaf/oaf-actid.c, liboaf/oaf-mainloop.c:
	Fixes.

1999-11-19  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c, oafd/ac-corba.c, oafd/od-corba.c,
	idl/oaf.idl: Raise some more exceptions to satisfy havoc.

	* oafd/ac-corba.c, oafd/od-activate.c, oafd/od-corba.c,
	idl/oaf.idl, liboaf/liboaf.h, liboaf/oaf-activate.c,
	liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c, oaf.m4: Return the
	ActivationID for the newly activated server, to allow future
	activations.

1999-11-17  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-mainloop.c, configure.in,
	oaf-config.in, oaf.m4: Misc bugfixes.

	* Makefile.am: Install .m4 file.

1999-11-16  Elliot Lee  <sopwith@redhat.com>

	* configure.in, liboaf/liboaf.h, liboaf/liboaf-version.h.in,
	liboaf/Makefile.am, liboaf/oaf-mainloop.c, oaf-config.in, oaf.m4:
	Do the whole m4 etc. hokey pokey.

1999-11-11  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-activate.c: Add oaf_query(), make
	oaf_activate_from_id() get the OD that would be activating the
	server.

1999-11-09  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-activate.c, liboaf/oaf-mainloop.c:
	liboafgnome: Do the rcmd_activator method. Still need to figure
	out how to make this happen automatically.

	oaf: Add oaf_activate_from_id(). Make a couple of functions
	'static' as intended.

1999-10-29  Elliot Lee  <sopwith@redhat.com>

	* configure.in:

	* liboafgnome/: builds now.
	* support/: Integrate new popt. Don't install this library.
	* libgnome/Makefile.am: Link ../support/libgnomesupport.la in as part of libgnome.la
	* */Makefile.am: Reflect this
	* configure.in: Use AM_PATH_ORBIT macro

	* liboaf/DEPENDS.liboaf, liboaf/liboaf.h, liboaf/Makefile.am,
	liboaf/oaf-mainloop.c:

	Just sync stuff to CVS in case my computer crashes, is broken,
	will fix in morning: Remove esound/audiofile usage (we'll stick
	this functionality in a dynamically loaded module later on).

	Add some DEPENDS files just so we can get the dependency tree
	straight some day.

	Start on liboafgnome (tiny thing to implement an
	OAFRegistrationLocation on the rootwin for the ActivationContext,
	will also add remote exec hooks).

	Use the .m4 file from ORBit instead of our own.

1999-10-26  Elliot Lee  <sopwith@redhat.com>

	* oafd/oafd.h, oafd/od-activate.c, oafd/od-corba.c:
	Pass OD IOR on cmdline.

1999-10-25  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/liboaf-private.h, liboaf/oaf-mainloop.c,
	liboaf/oaf-registration.c, liboaf/oaf-servreg.c, oafd/main.c,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	test/empty.oafinfo, test/empty-server.c, test/Makefile.am,
	test/oaf-test-client.c, .cvsignore:
	Woohoo! Activation works!

	* liboaf/liboaf.h, liboaf/Makefile.am, liboaf/oaf-mainloop.c,
	liboaf/oaf-registration.c, liboaf/oaf-servreg.c, oafd/main.c,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	test/.cvsignore, test/empty.oafinfo, test/empty-server.c,
	test/Makefile.am, configure.in, idl/oaf.idl, TODO:

	Finish basic server bootstrapping (oaf-registration.c)

	Handle most of server bootstrapping.

	Make test/ compile.

	etc.

1999-10-24  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/liboaf-private.h, liboaf/Makefile.am,
	liboaf/oaf-activate.c, liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c,
	liboaf/oaf-registration.c, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/main.c, oafd/od-activate.c, oafd/od-corba.c,
	test/empty-client.c, test/empty.idl, test/empty-server.c,
	test/Makefile.am, test/oaf-test-client.c, configure.in, TODO:

	Modified:
		Expanded command line options for oafd.

		Fixed a bunch of warnings.

		ObjectDirectory should now be fully implemented.

	Added:
		test/ - will be a test case or two, in the future.

		TODO - reminders to myself.

		liboaf/oaf-registration.c: Framework for locating
		already-running basic servers 
		(i.e. ActivationContext, ObjectDirectory).

1999-10-22  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/Makefile.am, liboaf/oaf-activate.c,
	liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c, oafd/ac-corba.c,
	oafd/Makefile.am:

	Do the hokey pokey - now it's time for debugging.

1999-10-21  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-actid.c, liboaf/oaf-activate.c, liboaf/oaf-plugin.c,
	oafd/ac-corba.c, oafd/client.c, oafd/Makefile.am, oafd/oafd.h,
	oafd/od-activate.c, oafd/od-corba.c, docs/limitations.txt,
	idl/gnome-factory.idl, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/Makefile.am, acconfig.h, configure.in:

	More work. Doesn't compile, waiting on ORBit improvements.

	* idl/oaf.idl, liboaf/Makefile.am, oafd/ac-corba.c,
	oafd/ac-query-expr.c, oafd/oafd.h, oafd/od-corba.c,
	oafd/od-load.c, docs/limitations.txt, docs/Makefile.am,
	docs/query-language.txt:

	Work on activation a bit.  Make username/hostname/domain be part
	of a ServerInfo thing, just because it simplifies things (even
	though it eats memory, oh well).

	* liboaf/oaf-mainloop.c, oafd/client.c:
	Forgot to add these files - mainloop integration etc., plus a
	simple oafd client for testing purposes.

1999-10-20  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-actid.c, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/ac-query-expr.h, oafd/ac-query-lex.l, oafd/main.c,
	oafd/Makefile.am, oafd/od-corba.c, oafd/od-load.c,
	docs/query-language.txt, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/liboaf-private.h, liboaf/Makefile.am, acconfig.h,
	ChangeLog, configure.in, NEWS, README:

	Lots of additions - the basic server side is starting to work.

	* oafd/ac-corba.c, oafd/ac-query-expr.h, oafd/main.c,
	oafd/od-corba.c, oafd/od-load.c, docs/id-format.txt,
	docs/Makefile.am, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/Makefile.am, liboaf/oaf-actid.c:

	Mo work (start gluing things together in the ActivationContext
	server, do some liboaf utility routines, document IID/AID format).

	Compilation not tested. sync only.

	* oafd/oafd.h, oafd/od-activate.c, oafd/od-corba.c,
	oafd/od-load.c, docs/test.oafinfo, idl/oaf.idl, oafd/ac-corba.c,
	oafd/ac-query-expr.c, oafd/main.c, oafd/Makefile.am, configure.in:

	All in a day's work - write the directory loader etc.

1999-10-19  Elliot Lee  <sopwith@redhat.com>

	* idl/.cvsignore, oafd/Makefile.am, oafd/oafd.h:
	And finally, catch some files we missed before.

	* oafd/ac-query-expr.c:
	"Duh".	Make it compile.

	* idl/oaf.idl, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/Makefile.am, oafd/od-corba.c: sync to work box. I blame
	no-compile on borked home box compiler

	* docs/.cvsignore, docs/query-language.txt,
	docs/remote-activate.txt, idl/oaf.idl, liboaf/.cvsignore,
	liboaf/Makefile.am, oafd/ac-query-expr.c, oafd/ac-query-expr.h,
	oafd/ac-query-lex.l, oafd/ac-query-parse.y, oafd/.cvsignore,
	oafd/main.c, oafd/Makefile.am, configure.in, .cvsignore,
	Makefile.am:

	The query parser/evaluator now works AFAIK. All that is left in
	that arena is to write the sorting routine, and to do some testing
	with real data (dependency: directory reading code).

1999-10-18  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-query-expr.h, oafd/ac-query-lex.l,
	oafd/ac-query-parse.y, oafd/Makefile.am: I should have called this
	directory oafd, not liboaf

	* oafd/ac-query-lex.l, oafd/ac-query-parse.y, oafd/Makefile.am,
	AUTHORS, autogen.sh, configure.in, docs/Makefile.am, docs/oaf.dia,
	idl/Makefile.am, idl/oaf.idl, Makefile.am: Install basic build
	structure.

1999-10-17  Elliot Lee  <sopwith@redhat.com>

	* docs/INTERNALS, docs/oaf.dia, docs/oaf-use.dia, idl/oaf.idl: 
	New file.

	* docs/INTERNALS, docs/oaf.dia, docs/oaf-use.dia, idl/oaf.idl:
	Start work
