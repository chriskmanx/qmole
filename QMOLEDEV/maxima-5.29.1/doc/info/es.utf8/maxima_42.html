<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on diciembre, 10 2012 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Manual de Maxima: 42. cobyla</title>

<meta name="description" content="Manual de Maxima: 42. cobyla">
<meta name="keywords" content="Manual de Maxima: 42. cobyla">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body
{
    color: black;
    background: white; 
    margin-left: 8%;
    margin-right: 13%;
}

h1
{
    margin-left: +8%;
    font-size: 150%;
    font-family: sans-serif
}

h2
{
    font-size: 125%;
    font-family: sans-serif
}

h3
{
    font-size: 100%;
    font-family: sans-serif
}

h2,h3,h4,h5,h6 { margin-left: +4%; }

div.textbox
{
    border: solid;
    border-width: thin;
    /* width: 100%; */
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em
}

div.titlebox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
    background: rgb(200,255,255);
    font-family: sans-serif
}

div.synopsisbox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
     background: rgb(255,220,255);
    /*background: rgb(200,255,255); */
    /* font-family: fixed */
}

pre.example
{
    border: 1px solid gray;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 1em;
    padding-right: 1em;
    /* background: rgb(247,242,180); */ /* kind of sandy */
    /* background: rgb(200,255,255); */ /* sky blue */
    background-color: #F1F5F9; /* light blue-gray */
    /* font-family: "Lucida Console", monospace */
}

div.spacerbox
{
    border: none;
    padding-top: 2em;
    padding-bottom: 2em
}

div.image
{
    margin: 0;
    padding: 1em;
    text-align: center;
}

div.categorybox
{
    border: 1px solid gray;
    padding-top: 0px;
    padding-bottom: 0px;
    padding-left: 1em;
    padding-right: 1em;
    background: rgb(247,242,220);
}


-->
</style>

<link rel="icon" href="http://maxima.sourceforge.net/favicon.ico"/>
</head>

<body lang="es" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="cobyla"></a>
<a name="SEC216"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_41.html#SEC215" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC217" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_41.html#SEC214" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_82.html#SEC377" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 42. cobyla </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC217">42.1 Introducci&oacute;n a cobyla</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC218">42.2 Funciones y variables para cobyla</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC219">42.3 Ejemplos para cobyla</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<hr size="6">
<a name="Introducci_00f3n-a-cobyla"></a>
<a name="SEC217"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC216" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC218" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC216" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC216" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_82.html#SEC377" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 42.1 Introducci&oacute;n a cobyla </h2>

<p><code>fmin_cobyla</code> es una traducci&oacute;n a Common Lisp hecha con el
programa <code>f2cl</code> de la rutina Fortran COBYLA, (Powell, [1][2][3]), 
para optimizaci&oacute;n con restricciones.
</p>
<p>COBYLA minimiza una funci&oacute;n objetivo F(X) sujeta a M restricciones con
desigualdades de la forma g(X) &gt;= 0 sobre X, siendo X un vector de variables
de N componentes.
</p>
<p>Las restricciones en forma de igualdades se pueden implementar por pares
de desigualdades de la forma g(X)&gt;=0 y -g(X)&gt;= 0. El interfaz Maxima para
COBYLA admite restricciones de igualdad, transform&aacute;ndolas luego
internamente a pares de desigualdades.
</p>
<p>El algoritmo hace uso de aproximaciones lineales, tanto de la funci&oacute;n
objetivo como de las funciones de restricci&oacute;n; tales aproximaciones
se hacen mediante interpolaci&oacute;n lineal de N+1 puntos en el espacio de
variables. Los puntos de interpolaci&oacute;n se consideran v&eacute;rtices de un
simplejo o s&iacute;mplex. El par&aacute;metro RHO controla el tama&ntilde;o
del simplejo y se reduce autom&aacute;ticamente de RHOBEG a RHOEND. Para cada
RHO la subrutina intenta alcanzar un buen vector de variables para el
tama&ntilde;o actual, reduci&eacute;ndose entonces RHO hasta alcanzar el valor de
RHOEND. Por eso, tanto a RHOBEG como a RHOEND se les deben asignar valores
razonables, lo que requiere cierto trabajo emp&iacute;rico previo.
La rutina trata cada restricci&oacute;n individualmente cuando se calcula un
en las variables. El nombre de la rutina se deriva de la frase 
<i>Constrained Optimization BY Linear Approximations</i>.
</p>
<p>Referecias:
</p>
<p>[1] C&oacute;digo Fortran procede de <a href="http://plato.asu.edu/sub/nlores.html#general">http://plato.asu.edu/sub/nlores.html#general</a>
</p>
<p>[2] M. J. D. Powell, &quot;A direct search optimization method that models the objective and constraint functions by linear interpolation,&quot; en Advances in Optimization and Numerical Analysis, eds. S. Gomez and J.-P. Hennart (Kluwer Academic: Dordrecht, 1994), p. 51-67. 
</p>
<p>[3] M. J. D. Powell, &quot;Direct search algorithms for optimization calculations,&quot; Acta Numerica 7, 287-336 (1998).  Also available as University of Cambridge, Department of Applied Mathematics and Theoretical Physics,  Numerical Analysis Group, Report NA1998/04 from <a href="http://www.damtp.cam.ac.uk/user/na/reports.html">http://www.damtp.cam.ac.uk/user/na/reports.html</a>
</p>
<hr size="6">
<a name="Funciones-y-variables-para-cobyla"></a>
<a name="SEC218"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC217" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC219" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC216" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC216" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_82.html#SEC377" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 42.2 Funciones y variables para cobyla </h2>

<dl>
<dt><u>Funci&oacute;n:</u> <b>fmin_cobyla</b><i> (<var>F</var>, <var>X</var>, <var>Y</var>)</i>
<a name="IDX1573"></a>
</dt>
<dt><u>Funci&oacute;n:</u> <b>fmin_cobyla</b><i> (<var>F</var>, <var>X</var>, <var>Y</var>, optional_args)</i>
<a name="IDX1574"></a>
</dt>
<dd><p>Devuelve una aproximaci&oacute;n del valor m&iacute;nimo de la expresi&oacute;n
<var>F</var> respecto de las variables <var>X</var>, sujeta a un conjunto opcional
de restricciones. <var>Y</var> es una lista que contiene una soluci&oacute;n semilla
inicial en <var>X</var>.
</p>
<p><var>F</var> debe ser una expresi&oacute;n ordinaria, no valen nombres de funciones
ni expresiones lambda.
</p>
<p><code>optional_args</code> hace referencia a argumentos adicionales, que se
especifican de la forma <code><var>symbol</var> = <var>value</var></code>. Los argumentos
opcionales que se reconocen son:
</p>
<dl compact="compact">
<dt> <code>constraints</code></dt>
<dd><p>Lista de restricciones en forma de desigualdades e igualdades que debe
satisfacer <var>X</var>. Las desigualdades deben ser de la forma 
<code>g(<var>X</var>) &gt;= h(<var>X</var>)</code> o <code>g(<var>X</var>) &lt;= h(<var>X</var>)</code>.
Las restricciones de igualdad deben ser de la forma 
<code>g(<var>X</var>) = h(<var>X</var>)</code>.
</p></dd>
<dt> <code>rhobeg</code></dt>
<dd><p>Valor inicial de la variable interna RHO, que controla el tama&ntilde;o del
simplejo. Su valor por defecto es 1.0.
</p></dd>
<dt> <code>rhoend</code> </dt>
<dd><p>El valor final deseado para el par&aacute;metro RHO. Es aproximadamente la
precisi&oacute;n de las variables. Su valor por defecto es 1d-6.
</p></dd>
<dt> <code>iprint</code></dt>
<dd><p>Nivel de informaci&oacute;n de salida. Su valor por defecto es 0.
</p><ul class="toc">
<li>
0 - Sin informaci&oacute;n de salida
</li><li>
1 - Sumario al final de los c&aacute;lculos
</li><li>
2 - Se van mostrando los nuevos valores de RHO y SIGMA, incluyendo
 el vector de variables.
</li><li>
3 - Como en 2, pero la informaci&oacute;n se muestra cuando se calcula F(X).
</li></ul>
</dd>
<dt> <code>maxfun</code></dt>
<dd><p>N&uacute;mero m&aacute;ximo de evaluaciones de la funci&oacute;n. Su valor por defecto es 1000.
</p></dd>
</dl>

<p>El resultado devuelto es un vector:
</p><ol>
<li>
Los valores de las variables con las que se alcanza el valor m&iacute;nimo.
Es una lista de elementos de la forma <code><var>var</var> = <var>value</var></code> para cada
una de las variables listadas en <var>X</var>.
</li><li>
El valor m&iacute;nimo de la funci&oacute;n objetivo.
</li><li>
El n&uacute;mero de evaluaciones de la funci&oacute;n.
</li><li>
C&oacute;digo de retorno con los siguientes significados:
 <ol>
<li>
 0 - No ha habido errores.
 </li><li>
 1 - Alcanzado el m&aacute;ximo n&uacute;mero permitido de evaluaciones de la funci&oacute;n.
 </li><li>
 2 - Errores de redondeo han impedido el avance del proceso.
 </li></ol>
</li></ol>

<p>El c&oacute;digo <code>load(fmin_cobyla)</code> carga en memoria esta funci&oacute;n..
</p>
</dd></dl>

<dl>
<dt><u>Funci&oacute;n:</u> <b>bf_fmin_cobyla</b><i> (<var>F</var>, <var>X</var>, <var>Y</var>)</i>
<a name="IDX1575"></a>
</dt>
<dt><u>Funci&oacute;n:</u> <b>bf_fmin_cobyla</b><i> (<var>F</var>, <var>X</var>, <var>Y</var>, optional_args)</i>
<a name="IDX1576"></a>
</dt>
<dd><p>Esta funci&oacute;n es id&eacute;ntica a <code>fmin_cobyla</code>, excepto por el hecho
de que utiliza aritm&eacute;tica de precisi&oacute;n arbitraria (bigfloat) y que el
valor por defecto de <var>rhoend</var> es <code>10^(fpprec/2)</code>. 
</p>
<p>V&eacute;ase <code>fmin_cobyla</code>.
</p>
<p>El c&oacute;digo <code>load(fmin_cobyla)</code> carga en memoria esta funci&oacute;n..
</p>
</dd></dl>

<hr size="6">
<a name="Ejemplos-para-cobyla"></a>
<a name="SEC219"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC218" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC216" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC216" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_82.html#SEC377" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 42.3 Ejemplos para cobyla </h2>

<p>Minimizar x1*x2 bajo la condici&oacute;n 1-x1^2-x2^2 &gt;= 0.  
La soluci&oacute;n te&oacute;rica es x1 = 1/sqrt(2), x2 = -1/sqrt(2).
</p>
<pre class="example">(%i1) load(fmin_cobyla)$

(%i2) fmin_cobyla(x1*x2, [x1, x2], [1,1], constraints = [x1^2+x2^2&lt;=1], iprint=1);

   Normal return from subroutine COBYLA

   NFVALS =   66   F =-5.000000E-01    MAXCV = 1.999845E-12
   X = 7.071058E-01  -7.071077E-01
(%o2) [[x1 = 0.70710584934848, x2 = - 0.7071077130248], - 0.49999999999926, 
       [[-1.999955756559757e-12],[]], 66]
</pre>
<p>Hay m&aacute;s ejemplos en el directorio <code>share/cobyla/ex</code>.
</p>


<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC216" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_43.html#SEC220" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_82.html#SEC377" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Robert</em> on <em>diciembre, 10 2012</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
